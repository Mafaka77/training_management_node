import{R as L,S as q,r as v,Z as Q,y as C,j as h,k as o,m as r,n as a,p as e,Q as A,N as n,q as s,U,_ as z,a2 as R,T as w,P as g,I as x,a0 as d,a1 as m,X as S,O as B,a3 as N,a4 as O}from"./index-BmtaoebC.js";import{Q as E,a as F,b as H,c as K,d as j}from"./QLayout-cvXxpOsx.js";import{Q as X}from"./QSpace-J4rC8bol.js";import{Q as i,a as l}from"./QItemSection-BFHoprD4.js";import{Q as T}from"./QList-Bz4Ku5EC.js";import{Q as Z}from"./QMenu-cxHhfpYg.js";import{Q as V}from"./QItemLabel-CIkYOKvx.js";import{Q as G}from"./QDrawer-B638ruiu.js";import"./QResizeObserver-DyzqHyCD.js";import"./position-engine-BccdHKPO.js";import"./selection-YkbmM9Dm.js";import"./touch-BjYP5sR0.js";import"./format-DyQxkAtJ.js";const J=["src"],W=["src"],fe={__name:"TraineeLayout",setup(Y){const y=L(),f=q(),_=v(!1),p=v(""),k=v(Q.isActive),M=()=>{_.value=!_.value},b=async()=>{if(p.value)try{const u=await N.get("/trainee/search",{params:{q:p.value}});console.log("Search Results:",u.data),y.push({path:"/trainee/search",query:{q:p.value}})}catch(u){console.error("Search error:",u)}},D=u=>{Q.set(u),localStorage.setItem("darkMode",u?"1":"0")};C(()=>{const u=localStorage.getItem("darkMode");if(u){const t=u==="1";k.value=t,Q.set(t)}});const P=()=>{O.create({title:"Confirm Logout",message:"Are you sure you want to log out?",cancel:!0,persistent:!0}).onOk(()=>{f.logout(),y.push("/login")})};return(u,t)=>{const I=h("router-view");return o(),r(j,{view:"hHh lpR fFf"},{default:a(()=>[e(E,{elevated:"",class:"bg-primary text-white"},{default:a(()=>[e(F,null,{default:a(()=>[e(A,{dense:"",flat:"",round:"",icon:"menu",onClick:M}),e(H,null,{default:a(()=>[e(n,{name:"school",size:"32px",class:"q-mr-sm"}),t[3]||(t[3]=s(" Trainee Panel ",-1))]),_:1}),e(U,{dense:"",standout:"bg-white text-black",modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=c=>p.value=c),placeholder:"Search trainings...",class:"q-mx-md",onKeyup:z(b,["enter"])},{append:a(()=>[e(n,{name:"search",class:"cursor-pointer",onClick:b})]),_:1},8,["modelValue"]),e(X),e(R,{modelValue:k.value,"onUpdate:modelValue":[t[1]||(t[1]=c=>k.value=c),D],"checked-icon":"dark_mode","unchecked-icon":"light_mode",color:"yellow","keep-color":""},null,8,["modelValue"]),e(w,{size:"32px",class:"cursor-pointer"},{default:a(()=>[g(f).profilePic?(o(),x("img",{key:0,src:g(f).profilePic,alt:"Trainee Avatar"},null,8,J)):(o(),r(n,{key:1,name:"account_circle",size:"28px"})),e(Z,null,{default:a(()=>[e(T,{style:{"min-width":"150px"}},{default:a(()=>[d((o(),r(i,{clickable:"",to:"/trainee/profile"},{default:a(()=>[e(l,null,{default:a(()=>[...t[4]||(t[4]=[s("My Profile",-1)])]),_:1})]),_:1})),[[m]]),e(S),d((o(),r(i,{clickable:"",onClick:P},{default:a(()=>[e(l,{class:"text-negative"},{default:a(()=>[...t[5]||(t[5]=[s("Logout",-1)])]),_:1})]),_:1})),[[m]])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(G,{"show-if-above":"",modelValue:_.value,"onUpdate:modelValue":t[2]||(t[2]=c=>_.value=c),side:"left",bordered:""},{default:a(()=>[e(T,null,{default:a(()=>[e(i,null,{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(w,{size:"48px"},{default:a(()=>[g(f).profilePic?(o(),x("img",{key:0,src:g(f).profilePic,alt:"Trainee Avatar"},null,8,W)):(o(),r(n,{key:1,name:"person",size:"md"}))]),_:1})]),_:1}),e(l,null,{default:a(()=>[e(V,{class:"text-weight-medium"},{default:a(()=>[s(B(g(f).name),1)]),_:1}),e(V,{caption:"",class:"text-grey"},{default:a(()=>[...t[6]||(t[6]=[s("Trainee",-1)])]),_:1})]),_:1})]),_:1}),e(S,{spaced:""}),d((o(),r(i,{clickable:"",to:"/trainee/dashboard"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(n,{name:"dashboard"})]),_:1}),e(l,null,{default:a(()=>[...t[7]||(t[7]=[s("Dashboard",-1)])]),_:1})]),_:1})),[[m]]),d((o(),r(i,{clickable:"",to:"/trainee/trainings"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(n,{name:"school"})]),_:1}),e(l,null,{default:a(()=>[...t[8]||(t[8]=[s("My Trainings",-1)])]),_:1})]),_:1})),[[m]]),d((o(),r(i,{clickable:"",to:"/trainee/enrollments"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(n,{name:"assignment"})]),_:1}),e(l,null,{default:a(()=>[...t[9]||(t[9]=[s("My Enrollments",-1)])]),_:1})]),_:1})),[[m]]),d((o(),r(i,{clickable:"",to:"/trainee/tickets"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(n,{name:"support_agent"})]),_:1}),e(l,null,{default:a(()=>[...t[10]||(t[10]=[s("Support Tickets",-1)])]),_:1})]),_:1})),[[m]]),d((o(),r(i,{clickable:"",to:"/trainee/materials"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(n,{name:"menu_book"})]),_:1}),e(l,null,{default:a(()=>[...t[11]||(t[11]=[s("Study Materials",-1)])]),_:1})]),_:1})),[[m]]),d((o(),r(i,{clickable:"",to:"/trainee/upcoming"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(n,{name:"event"})]),_:1}),e(l,null,{default:a(()=>[...t[12]||(t[12]=[s("Upcoming Trainings",-1)])]),_:1})]),_:1})),[[m]]),d((o(),r(i,{clickable:"",to:"/trainee/faq"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(n,{name:"event"})]),_:1}),e(l,null,{default:a(()=>[...t[13]||(t[13]=[s("FAQ",-1)])]),_:1})]),_:1})),[[m]])]),_:1})]),_:1},8,["modelValue"]),e(K,null,{default:a(()=>[e(I)]),_:1})]),_:1})}}};export{fe as default};
