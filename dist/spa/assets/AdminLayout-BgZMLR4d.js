import{a2 as P,a3 as E,r as b,aa as D,J as H,j as K,k as o,m as r,n as a,p as e,Q as y,$ as d,q as n,a5 as O,ab as j,a0 as k,ac as M,W as x,X as J,Y as W,a8 as w,ad as s,ae as i,af as X,a4 as L,a1 as g,ag as A,ah as Y}from"./index-Bzn0LiPU.js";import{Q as $,a as G,b as Z,c as h,d as aa}from"./QLayout-Bl4rNIYH.js";import{Q as ea}from"./QSpace-BcajTR04.js";import{Q as ta}from"./QBadge-CCt-JOPv.js";import{Q as u,a as l}from"./QItemSection-COOhA9zR.js";import{Q}from"./QList-BSRIgFgv.js";import{Q as C}from"./QMenu-2e4m313B.js";import{Q as I}from"./QItemLabel-BQHMT6Ru.js";import{Q as q}from"./QExpansionItem-DHqR8eY7.js";import{Q as la}from"./QDrawer-32G5mTWJ.js";import"./QResizeObserver-DM40u9wL.js";import"./position-engine-BCFNfW53.js";import"./selection-DFkNIa7B.js";import"./touch-BjYP5sR0.js";import"./format-DyQxkAtJ.js";const oa=["src"],na=["src"],xa={__name:"AdminLayout",setup(ra){const S=P(),c=E(),v=b(!1),_=b(""),p=b([]),T=b(D.isActive),N=()=>{v.value=!v.value},V=async()=>{if(_.value)try{const m=await A.get("/admin/search",{params:{q:_.value}});console.log("Search Results:",m.data),S.push({path:"/admin/search",query:{q:_.value}})}catch(m){console.error("Search error:",m)}},z=async()=>{try{const m=await A.get("/admin/notifications");p.value=m.data||[]}catch(m){console.error("Failed to load notifications:",m)}},B=()=>{p.value=[]},R=m=>{D.set(m),localStorage.setItem("darkMode",m?"1":"0")};H(()=>{z()});const U=()=>{Y.create({title:"Confirm Logout",message:"Are you sure you want to log out?",cancel:!0,persistent:!0}).onOk(()=>{c.logout(),S.push("/")})};return(m,t)=>{const F=K("router-view");return o(),r(aa,{view:"hHh lpR fFf"},{default:a(()=>[e($,{elevated:"",class:"bg-primary text-white"},{default:a(()=>[e(G,null,{default:a(()=>[e(y,{dense:"",flat:"",round:"",icon:"menu",onClick:N}),e(Z,null,{default:a(()=>[e(d,{name:"admin_panel_settings",size:"32px",class:"q-mr-sm"}),t[3]||(t[3]=n(" ATI Admin ",-1))]),_:1}),e(O,{dense:"",standout:"bg-white text-black",modelValue:_.value,"onUpdate:modelValue":t[0]||(t[0]=f=>_.value=f),placeholder:"Search...",class:"q-mx-md",onKeyup:j(V,["enter"])},{append:a(()=>[e(d,{name:"search",class:"cursor-pointer",onClick:V})]),_:1},8,["modelValue"]),e(ea),e(y,{dense:"",flat:"",round:"",icon:"notifications"},{default:a(()=>[p.value.length>0?(o(),r(ta,{key:0,color:"red",floating:""},{default:a(()=>[n(k(p.value.length),1)]),_:1})):M("",!0),e(C,null,{default:a(()=>[e(Q,{style:{"min-width":"250px"}},{default:a(()=>[(o(!0),x(J,null,W(p.value,f=>(o(),r(u,{key:f.id,clickable:""},{default:a(()=>[e(l,null,{default:a(()=>[n(k(f.message),1)]),_:2},1024),e(l,{side:"",caption:""},{default:a(()=>[n(k(f.time),1)]),_:2},1024)]),_:2},1024))),128)),p.value.length===0?(o(),r(u,{key:0},{default:a(()=>[e(l,null,{default:a(()=>[...t[4]||(t[4]=[n("No new notifications",-1)])]),_:1})]),_:1})):M("",!0),e(w),s((o(),r(u,{clickable:"",onClick:B},{default:a(()=>[e(l,{class:"text-center text-negative"},{default:a(()=>[...t[5]||(t[5]=[n(" Clear All ",-1)])]),_:1})]),_:1})),[[i]])]),_:1})]),_:1})]),_:1}),e(X,{modelValue:T.value,"onUpdate:modelValue":[t[1]||(t[1]=f=>T.value=f),R],"checked-icon":"dark_mode","unchecked-icon":"light_mode",color:"yellow","keep-color":""},null,8,["modelValue"]),e(y,{dense:"",flat:"",round:"",icon:"settings"},{default:a(()=>[e(C,null,{default:a(()=>[e(Q,null,{default:a(()=>[s((o(),r(u,{clickable:"",to:"/admin/system-config"},{default:a(()=>[e(l,null,{default:a(()=>[...t[6]||(t[6]=[n("System Config",-1)])]),_:1})]),_:1})),[[i]])]),_:1})]),_:1})]),_:1}),e(L,{size:"32px",class:"cursor-pointer"},{default:a(()=>[g(c).avatar?(o(),x("img",{key:0,src:g(c).avatar},null,8,oa)):(o(),r(d,{key:1,name:"account_circle",size:"28px"})),e(C,null,{default:a(()=>[e(Q,{style:{"min-width":"150px"}},{default:a(()=>[s((o(),r(u,{clickable:"",to:"/admin/profile"},{default:a(()=>[e(l,null,{default:a(()=>[...t[7]||(t[7]=[n("My Profile",-1)])]),_:1})]),_:1})),[[i]]),s((o(),r(u,{clickable:"",to:"/admin/settings"},{default:a(()=>[e(l,null,{default:a(()=>[...t[8]||(t[8]=[n("Settings",-1)])]),_:1})]),_:1})),[[i]]),e(w),s((o(),r(u,{clickable:"",onClick:U},{default:a(()=>[e(l,{class:"text-negative"},{default:a(()=>[...t[9]||(t[9]=[n("Logout",-1)])]),_:1})]),_:1})),[[i]])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e(la,{"show-if-above":"",modelValue:v.value,"onUpdate:modelValue":t[2]||(t[2]=f=>v.value=f),side:"left",bordered:""},{default:a(()=>[e(Q,null,{default:a(()=>[e(u,null,{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(L,{size:"48px"},{default:a(()=>[g(c).avatar?(o(),x("img",{key:0,src:g(c).avatar},null,8,na)):(o(),r(d,{key:1,name:"account_circle",size:"28px"}))]),_:1})]),_:1}),e(l,null,{default:a(()=>[e(I,{class:"text-weight-medium"},{default:a(()=>[n(k(g(c).name),1)]),_:1}),e(I,{caption:"",class:"text-grey"},{default:a(()=>[n(k(g(c).role),1)]),_:1})]),_:1})]),_:1}),e(w,{spaced:""}),s((o(),r(u,{clickable:"",to:"/admin/dashboard"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(d,{name:"dashboard"})]),_:1}),e(l,null,{default:a(()=>[...t[10]||(t[10]=[n("Dashboard",-1)])]),_:1})]),_:1})),[[i]]),e(q,{icon:"manage_accounts",label:"Training","expand-separator":""},{default:a(()=>[s((o(),r(u,{clickable:"",to:"/admin/training"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(d,{name:"description"})]),_:1}),e(l,null,{default:a(()=>[...t[11]||(t[11]=[n("Manage Training Programme",-1)])]),_:1})]),_:1})),[[i]]),s((o(),r(u,{clickable:"",to:"/admin/training-course"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(d,{name:"description"})]),_:1}),e(l,null,{default:a(()=>[...t[12]||(t[12]=[n("Manage Training Course",-1)])]),_:1})]),_:1})),[[i]]),s((o(),r(u,{clickable:"",to:"/admin/trainer"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(d,{name:"person"})]),_:1}),e(l,null,{default:a(()=>[...t[13]||(t[13]=[n("Manage Trainers",-1)])]),_:1})]),_:1})),[[i]])]),_:1}),s((o(),r(u,{clickable:"",to:"/admin/trainee"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(d,{name:"school"})]),_:1}),e(l,null,{default:a(()=>[...t[14]||(t[14]=[n("Trainee",-1)])]),_:1})]),_:1})),[[i]]),s((o(),r(u,{clickable:"",to:"/admin/enrollment"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(d,{name:"how_to_reg"})]),_:1}),e(l,null,{default:a(()=>[...t[15]||(t[15]=[n("Enrollment",-1)])]),_:1})]),_:1})),[[i]]),s((o(),r(u,{clickable:"",to:"/admin/user"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(d,{name:"group"})]),_:1}),e(l,null,{default:a(()=>[...t[16]||(t[16]=[n("Users",-1)])]),_:1})]),_:1})),[[i]]),e(q,{icon:"list",label:"MasterData","expand-separator":""},{default:a(()=>[s((o(),r(u,{clickable:"",to:"/admin/department"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(d,{name:"business"})]),_:1}),e(l,null,{default:a(()=>[...t[17]||(t[17]=[n("Department",-1)])]),_:1})]),_:1})),[[i]]),s((o(),r(u,{clickable:"",to:"/admin/room"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(d,{name:"meeting_room"})]),_:1}),e(l,null,{default:a(()=>[...t[18]||(t[18]=[n("Room",-1)])]),_:1})]),_:1})),[[i]]),s((o(),r(u,{clickable:"",to:"/admin/category"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(d,{name:"category"})]),_:1}),e(l,null,{default:a(()=>[...t[19]||(t[19]=[n("Category",-1)])]),_:1})]),_:1})),[[i]]),s((o(),r(u,{clickable:"",to:"/admin/doc"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(d,{name:"description"})]),_:1}),e(l,null,{default:a(()=>[...t[20]||(t[20]=[n("Document",-1)])]),_:1})]),_:1})),[[i]]),s((o(),r(u,{clickable:"",to:"/admin/faqs"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(d,{name:"help"})]),_:1}),e(l,null,{default:a(()=>[...t[21]||(t[21]=[n("FAQs",-1)])]),_:1})]),_:1})),[[i]])]),_:1}),s((o(),r(u,{clickable:"",to:"/admin/tickets"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(d,{name:"help"})]),_:1}),e(l,null,{default:a(()=>[...t[22]||(t[22]=[n("Tickets",-1)])]),_:1})]),_:1})),[[i]])]),_:1})]),_:1},8,["modelValue"]),e(h,null,{default:a(()=>[e(F)]),_:1})]),_:1})}}};export{xa as default};
