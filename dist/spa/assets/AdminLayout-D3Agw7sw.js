import{R as F,S as E,r as b,Z as D,y as K,j as O,k as o,m as r,n as e,p as a,Q,N as d,q as n,U as H,_ as j,O as k,$ as M,I as x,J,K as X,X as w,a0 as s,a1 as i,a2 as Z,T as I,P as _,a3 as L,a4 as $}from"./index-DIC-NUZQ.js";import{Q as G,a as W,b as Y,c as h,d as ee}from"./QLayout-DbQs9TAR.js";import{Q as ae}from"./QSpace-CFipmrmv.js";import{Q as te}from"./QBadge-DltXcwia.js";import{Q as u,a as l}from"./QItemSection-ClHbA6pq.js";import{Q as y}from"./QList-DBJYxEg-.js";import{Q as S}from"./QMenu-D3bMRb0e.js";import{Q as A}from"./QItemLabel-Dr7_6XOp.js";import{Q as q}from"./QExpansionItem-BgL9D2bI.js";import{Q as le}from"./QDrawer-Dui8_ReU.js";import"./QResizeObserver-BumSWsyt.js";import"./position-engine-CWV-Om3e.js";import"./selection-DspvkYyK.js";import"./touch-BjYP5sR0.js";import"./format-DyQxkAtJ.js";const oe=["src"],ne=["src"],xe={__name:"AdminLayout",setup(re){const C=F(),c=E(),v=b(!1),g=b(""),p=b([]),T=b(D.isActive),N=()=>{v.value=!v.value},V=async()=>{if(g.value)try{const m=await L.get("/admin/search",{params:{q:g.value}});console.log("Search Results:",m.data),C.push({path:"/admin/search",query:{q:g.value}})}catch(m){console.error("Search error:",m)}},R=async()=>{try{const m=await L.get("/admin/notifications");p.value=m.data||[]}catch(m){console.error("Failed to load notifications:",m)}},U=()=>{p.value=[]},z=m=>{D.set(m),localStorage.setItem("darkMode",m?"1":"0")};K(()=>{R()});const B=()=>{$.create({title:"Confirm Logout",message:"Are you sure you want to log out?",cancel:!0,persistent:!0}).onOk(()=>{c.logout(),C.push("/")})};return(m,t)=>{const P=O("router-view");return o(),r(ee,{view:"hHh lpR fFf"},{default:e(()=>[a(G,{elevated:"",class:"bg-primary text-white"},{default:e(()=>[a(W,null,{default:e(()=>[a(Q,{dense:"",flat:"",round:"",icon:"menu",onClick:N}),a(Y,null,{default:e(()=>[a(d,{name:"admin_panel_settings",size:"32px",class:"q-mr-sm"}),t[3]||(t[3]=n(" ATI Admin ",-1))]),_:1}),a(H,{dense:"",standout:"bg-white text-black",modelValue:g.value,"onUpdate:modelValue":t[0]||(t[0]=f=>g.value=f),placeholder:"Search...",class:"q-mx-md",onKeyup:j(V,["enter"])},{append:e(()=>[a(d,{name:"search",class:"cursor-pointer",onClick:V})]),_:1},8,["modelValue"]),a(ae),a(Q,{dense:"",flat:"",round:"",icon:"notifications"},{default:e(()=>[p.value.length>0?(o(),r(te,{key:0,color:"red",floating:""},{default:e(()=>[n(k(p.value.length),1)]),_:1})):M("",!0),a(S,null,{default:e(()=>[a(y,{style:{"min-width":"250px"}},{default:e(()=>[(o(!0),x(J,null,X(p.value,f=>(o(),r(u,{key:f.id,clickable:""},{default:e(()=>[a(l,null,{default:e(()=>[n(k(f.message),1)]),_:2},1024),a(l,{side:"",caption:""},{default:e(()=>[n(k(f.time),1)]),_:2},1024)]),_:2},1024))),128)),p.value.length===0?(o(),r(u,{key:0},{default:e(()=>[a(l,null,{default:e(()=>[...t[4]||(t[4]=[n("No new notifications",-1)])]),_:1})]),_:1})):M("",!0),a(w),s((o(),r(u,{clickable:"",onClick:U},{default:e(()=>[a(l,{class:"text-center text-negative"},{default:e(()=>[...t[5]||(t[5]=[n(" Clear All ",-1)])]),_:1})]),_:1})),[[i]])]),_:1})]),_:1})]),_:1}),a(Z,{modelValue:T.value,"onUpdate:modelValue":[t[1]||(t[1]=f=>T.value=f),z],"checked-icon":"dark_mode","unchecked-icon":"light_mode",color:"yellow","keep-color":""},null,8,["modelValue"]),a(Q,{dense:"",flat:"",round:"",icon:"settings"},{default:e(()=>[a(S,null,{default:e(()=>[a(y,null,{default:e(()=>[s((o(),r(u,{clickable:"",to:"/admin/system-config"},{default:e(()=>[a(l,null,{default:e(()=>[...t[6]||(t[6]=[n("System Config",-1)])]),_:1})]),_:1})),[[i]])]),_:1})]),_:1})]),_:1}),a(I,{size:"32px",class:"cursor-pointer"},{default:e(()=>[_(c).avatar?(o(),x("img",{key:0,src:_(c).avatar},null,8,oe)):(o(),r(d,{key:1,name:"account_circle",size:"28px"})),a(S,null,{default:e(()=>[a(y,{style:{"min-width":"150px"}},{default:e(()=>[s((o(),r(u,{clickable:"",to:"/admin/profile"},{default:e(()=>[a(l,null,{default:e(()=>[...t[7]||(t[7]=[n("My Profile",-1)])]),_:1})]),_:1})),[[i]]),s((o(),r(u,{clickable:"",to:"/admin/settings"},{default:e(()=>[a(l,null,{default:e(()=>[...t[8]||(t[8]=[n("Settings",-1)])]),_:1})]),_:1})),[[i]]),a(w),s((o(),r(u,{clickable:"",onClick:B},{default:e(()=>[a(l,{class:"text-negative"},{default:e(()=>[...t[9]||(t[9]=[n("Logout",-1)])]),_:1})]),_:1})),[[i]])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(le,{"show-if-above":"",modelValue:v.value,"onUpdate:modelValue":t[2]||(t[2]=f=>v.value=f),side:"left",bordered:""},{default:e(()=>[a(y,null,{default:e(()=>[a(u,null,{default:e(()=>[a(l,{avatar:""},{default:e(()=>[a(I,{size:"48px"},{default:e(()=>[_(c).avatar?(o(),x("img",{key:0,src:_(c).avatar},null,8,ne)):(o(),r(d,{key:1,name:"account_circle",size:"28px"}))]),_:1})]),_:1}),a(l,null,{default:e(()=>[a(A,{class:"text-weight-medium"},{default:e(()=>[n(k(_(c).name),1)]),_:1}),a(A,{caption:"",class:"text-grey"},{default:e(()=>[n(k(_(c).role),1)]),_:1})]),_:1})]),_:1}),a(w,{spaced:""}),s((o(),r(u,{clickable:"",to:"/admin/dashboard"},{default:e(()=>[a(l,{avatar:""},{default:e(()=>[a(d,{name:"dashboard"})]),_:1}),a(l,null,{default:e(()=>[...t[10]||(t[10]=[n("Dashboard",-1)])]),_:1})]),_:1})),[[i]]),a(q,{icon:"manage_accounts",label:"Training","expand-separator":""},{default:e(()=>[s((o(),r(u,{clickable:"",to:"/admin/training"},{default:e(()=>[a(l,{avatar:""},{default:e(()=>[a(d,{name:"description"})]),_:1}),a(l,null,{default:e(()=>[...t[11]||(t[11]=[n("Manage Training Programme",-1)])]),_:1})]),_:1})),[[i]]),s((o(),r(u,{clickable:"",to:"/admin/training-course"},{default:e(()=>[a(l,{avatar:""},{default:e(()=>[a(d,{name:"description"})]),_:1}),a(l,null,{default:e(()=>[...t[12]||(t[12]=[n("Manage Training Course",-1)])]),_:1})]),_:1})),[[i]]),s((o(),r(u,{clickable:"",to:"/admin/trainer"},{default:e(()=>[a(l,{avatar:""},{default:e(()=>[a(d,{name:"person"})]),_:1}),a(l,null,{default:e(()=>[...t[13]||(t[13]=[n("Manage Trainers",-1)])]),_:1})]),_:1})),[[i]])]),_:1}),s((o(),r(u,{clickable:"",to:"/admin/trainee"},{default:e(()=>[a(l,{avatar:""},{default:e(()=>[a(d,{name:"school"})]),_:1}),a(l,null,{default:e(()=>[...t[14]||(t[14]=[n("Trainee",-1)])]),_:1})]),_:1})),[[i]]),s((o(),r(u,{clickable:"",to:"/admin/enrollment"},{default:e(()=>[a(l,{avatar:""},{default:e(()=>[a(d,{name:"how_to_reg"})]),_:1}),a(l,null,{default:e(()=>[...t[15]||(t[15]=[n("Enrollment",-1)])]),_:1})]),_:1})),[[i]]),s((o(),r(u,{clickable:"",to:"/admin/user"},{default:e(()=>[a(l,{avatar:""},{default:e(()=>[a(d,{name:"group"})]),_:1}),a(l,null,{default:e(()=>[...t[16]||(t[16]=[n("Users",-1)])]),_:1})]),_:1})),[[i]]),a(q,{icon:"list",label:"MasterData","expand-separator":""},{default:e(()=>[s((o(),r(u,{clickable:"",to:"/admin/department"},{default:e(()=>[a(l,{avatar:""},{default:e(()=>[a(d,{name:"business"})]),_:1}),a(l,null,{default:e(()=>[...t[17]||(t[17]=[n("Department",-1)])]),_:1})]),_:1})),[[i]]),s((o(),r(u,{clickable:"",to:"/admin/room"},{default:e(()=>[a(l,{avatar:""},{default:e(()=>[a(d,{name:"meeting_room"})]),_:1}),a(l,null,{default:e(()=>[...t[18]||(t[18]=[n("Room",-1)])]),_:1})]),_:1})),[[i]]),s((o(),r(u,{clickable:"",to:"/admin/category"},{default:e(()=>[a(l,{avatar:""},{default:e(()=>[a(d,{name:"category"})]),_:1}),a(l,null,{default:e(()=>[...t[19]||(t[19]=[n("Category",-1)])]),_:1})]),_:1})),[[i]]),s((o(),r(u,{clickable:"",to:"/admin/doc"},{default:e(()=>[a(l,{avatar:""},{default:e(()=>[a(d,{name:"description"})]),_:1}),a(l,null,{default:e(()=>[...t[20]||(t[20]=[n("Document",-1)])]),_:1})]),_:1})),[[i]]),s((o(),r(u,{clickable:"",to:"/admin/faqs"},{default:e(()=>[a(l,{avatar:""},{default:e(()=>[a(d,{name:"help"})]),_:1}),a(l,null,{default:e(()=>[...t[21]||(t[21]=[n("FAQs",-1)])]),_:1})]),_:1})),[[i]])]),_:1}),s((o(),r(u,{clickable:"",to:"/admin/tickets"},{default:e(()=>[a(l,{avatar:""},{default:e(()=>[a(d,{name:"help"})]),_:1}),a(l,null,{default:e(()=>[...t[22]||(t[22]=[n("Tickets",-1)])]),_:1})]),_:1})),[[i]])]),_:1})]),_:1},8,["modelValue"]),a(h,null,{default:e(()=>[a(P)]),_:1})]),_:1})}}};export{xe as default};
