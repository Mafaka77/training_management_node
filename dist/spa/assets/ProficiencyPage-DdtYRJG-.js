import{y as x,k as n,m as _,n as s,p as i,a6 as y,U as o,s as V,I as q,Q as c,$ as Q,a3 as f,r as u}from"./index-BmtaoebC.js";import{Q as w}from"./QUploader-C2_IF1kZ.js";import{Q as P}from"./QImg-BmykO63a.js";import{Q as g}from"./QForm-DR8dK1jU.js";import{Q as b}from"./QPage-Bog61wbD.js";import"./format-DyQxkAtJ.js";import"./use-file-B2HHfrf0.js";const U={key:0,class:"q-mt-sm"},F={__name:"ProficiencyPage",setup(k){const t=u(null),e=u({expertise:"",qualification:"",experience:"",profile_picture:null,profile_picture_preview:null}),p=async()=>{try{const l=await f.get("trainer/proficiency");e.value=l.data.profile,e.value.profile_picture_preview=l.data.profile.profile_picture_url||null}catch(l){console.error(l)}},d=async()=>{if(!e.value.expertise||!e.value.qualification||!e.value.experience)return alert("Please fill all fields");const l=new FormData;l.append("expertise",e.value.expertise),l.append("qualification",e.value.qualification),l.append("experience",e.value.experience);const a=u.uploader;a&&a.files.length&&l.append("profile_picture",a.files[0]);try{await f.post("/trainer/proficiency",l,{headers:{"Content-Type":"multipart/form-data"}}),alert("Profile updated successfully!"),p()}catch(r){console.error(r)}},m=()=>{e.value.profile_picture=null,e.value.profile_picture_preview=null,t.value&&t.value.reset()},v=l=>l;return x(p),(l,a)=>(n(),_(b,{class:"q-pa-md"},{default:s(()=>[i(g,{onSubmit:y(d,["prevent"]),class:"q-gutter-md"},{default:s(()=>[i(o,{filled:"",modelValue:e.value.expertise,"onUpdate:modelValue":a[0]||(a[0]=r=>e.value.expertise=r),label:"Expertise",required:""},null,8,["modelValue"]),i(o,{filled:"",modelValue:e.value.qualification,"onUpdate:modelValue":a[1]||(a[1]=r=>e.value.qualification=r),label:"Qualification",required:""},null,8,["modelValue"]),i(o,{filled:"",modelValue:e.value.experience,"onUpdate:modelValue":a[2]||(a[2]=r=>e.value.experience=r),label:"Experience",required:""},null,8,["modelValue"]),V("div",null,[i(w,{url:"",label:"Profile Picture","auto-upload":!1,factory:v,ref_key:"uploader",ref:t,modelValue:t.value,"onUpdate:modelValue":a[3]||(a[3]=r=>t.value=r),accept:"image/*","max-files":"1"},null,8,["modelValue"]),e.value.profile_picture_preview?(n(),q("div",U,[i(P,{src:e.value.profile_picture_preview,style:{"max-width":"150px","max-height":"150px"}},null,8,["src"]),i(c,{flat:"",color:"negative",icon:"delete",label:"Remove",onClick:m})])):Q("",!0)]),i(c,{type:"submit",label:"Update Profile",color:"primary",class:"q-mt-md"})]),_:1})]),_:1}))}};export{F as default};
