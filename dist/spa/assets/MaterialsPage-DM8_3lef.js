import{Q as u}from"./QSelect-Ch48kfxk.js";import{Q as c}from"./QUploader-C1R6c4Dm.js";import{y as d,k as m,m as f,n as _,p as r,Q as y,a3 as p,r as l}from"./index-DIC-NUZQ.js";import{Q}from"./QPage-B0X2t0lv.js";import"./QChip-CFPVEymU.js";import"./QItemSection-ClHbA6pq.js";import"./QItemLabel-Dr7_6XOp.js";import"./QMenu-D3bMRb0e.js";import"./position-engine-CWV-Om3e.js";import"./selection-DspvkYyK.js";import"./rtl-DFPa-2ov.js";import"./format-DyQxkAtJ.js";import"./use-file-DnQYZhE2.js";const P={__name:"MaterialsPage",setup(h){const s=l([]),t=l(null),i=async()=>{try{const e=await p.get("admin/trainer/courses");s.value=e.data.data}catch(e){console.error(e)}},n=async()=>{if(!t.value)return alert("Select a course first");const e=l.uploader;if(!e.files.length)return alert("Select files to upload");const o=new FormData;e.files.forEach(a=>o.append("materials",a));try{await p.post(`/trainer/course/${t.value}/materials`,o,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:a=>{console.log(`Upload progress: ${Math.round(a.loaded*100/a.total)}%`)}}),alert("Materials uploaded successfully!"),e.reset()}catch(a){console.error(a)}};return d(i),(e,o)=>(m(),f(Q,{class:"q-pa-md"},{default:_(()=>[r(u,{filled:"",modelValue:t.value,"onUpdate:modelValue":o[0]||(o[0]=a=>t.value=a),options:s.value,"option-label":"t_name","option-value":"_id",label:"Select Course",required:""},null,8,["modelValue","options"]),r(c,{ref:"uploader",label:"Upload Materials",multiple:"","auto-upload":!1,url:"",accept:".pdf,.doc,.docx,.ppt,.pptx","max-file-size":"10485760"},null,512),r(y,{onClick:n,label:"Upload",color:"primary",class:"q-mt-md"})]),_:1}))}};export{P as default};
