import{a2 as h,a3 as q,r as _,aa as Q,J as C,j as I,k as o,m as r,n as a,p as e,Q as A,$ as n,q as s,a5 as z,ab as U,af as B,a4 as w,a1 as g,W as x,ad as d,ae as m,a8 as S,a0 as R,ag as E,ah as F}from"./index-Bzn0LiPU.js";import{Q as H,a as K,b as N,c as O,d as j}from"./QLayout-Bl4rNIYH.js";import{Q as J}from"./QSpace-BcajTR04.js";import{Q as i,a as l}from"./QItemSection-COOhA9zR.js";import{Q as T}from"./QList-BSRIgFgv.js";import{Q as W}from"./QMenu-2e4m313B.js";import{Q as V}from"./QItemLabel-BQHMT6Ru.js";import{Q as $}from"./QDrawer-32G5mTWJ.js";import"./QResizeObserver-DM40u9wL.js";import"./position-engine-BCFNfW53.js";import"./selection-DFkNIa7B.js";import"./touch-BjYP5sR0.js";import"./format-DyQxkAtJ.js";const G=["src"],X=["src"],fe={__name:"TraineeLayout",setup(Y){const b=h(),f=q(),k=_(!1),p=_(""),v=_(Q.isActive),M=()=>{k.value=!k.value},y=async()=>{if(p.value)try{const u=await E.get("/trainee/search",{params:{q:p.value}});console.log("Search Results:",u.data),b.push({path:"/trainee/search",query:{q:p.value}})}catch(u){console.error("Search error:",u)}},D=u=>{Q.set(u),localStorage.setItem("darkMode",u?"1":"0")};C(()=>{const u=localStorage.getItem("darkMode");if(u){const t=u==="1";v.value=t,Q.set(t)}});const L=()=>{F.create({title:"Confirm Logout",message:"Are you sure you want to log out?",cancel:!0,persistent:!0}).onOk(()=>{f.logout(),b.push("/login")})};return(u,t)=>{const P=I("router-view");return o(),r(j,{view:"hHh lpR fFf"},{default:a(()=>[e(H,{elevated:"",class:"bg-primary text-white"},{default:a(()=>[e(K,null,{default:a(()=>[e(A,{dense:"",flat:"",round:"",icon:"menu",onClick:M}),e(N,null,{default:a(()=>[e(n,{name:"school",size:"32px",class:"q-mr-sm"}),t[3]||(t[3]=s(" Trainee Panel ",-1))]),_:1}),e(z,{dense:"",standout:"bg-white text-black",modelValue:p.value,"onUpdate:modelValue":t[0]||(t[0]=c=>p.value=c),placeholder:"Search trainings...",class:"q-mx-md",onKeyup:U(y,["enter"])},{append:a(()=>[e(n,{name:"search",class:"cursor-pointer",onClick:y})]),_:1},8,["modelValue"]),e(J),e(B,{modelValue:v.value,"onUpdate:modelValue":[t[1]||(t[1]=c=>v.value=c),D],"checked-icon":"dark_mode","unchecked-icon":"light_mode",color:"yellow","keep-color":""},null,8,["modelValue"]),e(w,{size:"32px",class:"cursor-pointer"},{default:a(()=>[g(f).profilePic?(o(),x("img",{key:0,src:g(f).profilePic,alt:"Trainee Avatar"},null,8,G)):(o(),r(n,{key:1,name:"account_circle",size:"28px"})),e(W,null,{default:a(()=>[e(T,{style:{"min-width":"150px"}},{default:a(()=>[d((o(),r(i,{clickable:"",to:"/trainee/profile"},{default:a(()=>[e(l,null,{default:a(()=>[...t[4]||(t[4]=[s("My Profile",-1)])]),_:1})]),_:1})),[[m]]),e(S),d((o(),r(i,{clickable:"",onClick:L},{default:a(()=>[e(l,{class:"text-negative"},{default:a(()=>[...t[5]||(t[5]=[s("Logout",-1)])]),_:1})]),_:1})),[[m]])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),e($,{"show-if-above":"",modelValue:k.value,"onUpdate:modelValue":t[2]||(t[2]=c=>k.value=c),side:"left",bordered:""},{default:a(()=>[e(T,null,{default:a(()=>[e(i,null,{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(w,{size:"48px"},{default:a(()=>[g(f).profilePic?(o(),x("img",{key:0,src:g(f).profilePic,alt:"Trainee Avatar"},null,8,X)):(o(),r(n,{key:1,name:"person",size:"md"}))]),_:1})]),_:1}),e(l,null,{default:a(()=>[e(V,{class:"text-weight-medium"},{default:a(()=>[s(R(g(f).name),1)]),_:1}),e(V,{caption:"",class:"text-grey"},{default:a(()=>[...t[6]||(t[6]=[s("Trainee",-1)])]),_:1})]),_:1})]),_:1}),e(S,{spaced:""}),d((o(),r(i,{clickable:"",to:"/trainee/dashboard"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(n,{name:"dashboard"})]),_:1}),e(l,null,{default:a(()=>[...t[7]||(t[7]=[s("Dashboard",-1)])]),_:1})]),_:1})),[[m]]),d((o(),r(i,{clickable:"",to:"/trainee/trainings"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(n,{name:"school"})]),_:1}),e(l,null,{default:a(()=>[...t[8]||(t[8]=[s("My Trainings",-1)])]),_:1})]),_:1})),[[m]]),d((o(),r(i,{clickable:"",to:"/trainee/enrollments"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(n,{name:"assignment"})]),_:1}),e(l,null,{default:a(()=>[...t[9]||(t[9]=[s("My Enrollments",-1)])]),_:1})]),_:1})),[[m]]),d((o(),r(i,{clickable:"",to:"/trainee/tickets"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(n,{name:"support_agent"})]),_:1}),e(l,null,{default:a(()=>[...t[10]||(t[10]=[s("Support Tickets",-1)])]),_:1})]),_:1})),[[m]]),d((o(),r(i,{clickable:"",to:"/trainee/materials"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(n,{name:"menu_book"})]),_:1}),e(l,null,{default:a(()=>[...t[11]||(t[11]=[s("Study Materials",-1)])]),_:1})]),_:1})),[[m]]),d((o(),r(i,{clickable:"",to:"/trainee/upcoming"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(n,{name:"event"})]),_:1}),e(l,null,{default:a(()=>[...t[12]||(t[12]=[s("Upcoming Trainings",-1)])]),_:1})]),_:1})),[[m]]),d((o(),r(i,{clickable:"",to:"/trainee/faq"},{default:a(()=>[e(l,{avatar:""},{default:a(()=>[e(n,{name:"event"})]),_:1}),e(l,null,{default:a(()=>[...t[13]||(t[13]=[s("FAQ",-1)])]),_:1})]),_:1})),[[m]])]),_:1})]),_:1},8,["modelValue"]),e(O,null,{default:a(()=>[e(P)]),_:1})]),_:1})}}};export{fe as default};
