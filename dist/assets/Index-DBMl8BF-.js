import{y as A,s as S,m as M,o as d,c,a as e,F as m,r as v,n as f,t as r,z as B,A as P,b as T,w as E,k as F,u as n,h as w,i as R}from"./index-DGnyFPjq.js";import{u as V}from"./enrollmentStore-DUoowtuw.js";const $={class:"max-w-[90rem] mx-auto pb-10"},D={class:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8"},N={class:"flex flex-wrap items-center gap-3"},I={class:"flex items-center bg-zinc-100 dark:bg-white/5 p-1 rounded-xl border border-zinc-200 dark:border-white/10"},L=["onClick"],W={class:"relative group"},q={class:"bg-white dark:bg-zinc-900/50 border border-zinc-200 dark:border-white/10 rounded-2xl overflow-hidden shadow-sm"},Q={class:"overflow-x-auto"},U={class:"w-full text-left border-collapse"},G={class:"divide-y divide-zinc-100 dark:divide-white/5"},H={class:"px-6 py-4"},J={class:"flex items-center gap-3"},K={class:"h-10 w-10 rounded-full bg-blue-600/10 text-blue-600 flex items-center justify-center font-black text-xs uppercase"},O={class:"text-sm font-bold text-zinc-900 dark:text-zinc-100"},X={class:"text-[11px] text-zinc-500"},Y={class:"px-6 py-4 text-sm text-zinc-600 dark:text-zinc-400"},Z={class:"px-6 py-4 text-center"},ee={class:"px-6 py-4 text-right"},te={class:"flex items-center justify-end gap-2"},se=["onClick"],oe={class:"px-6 py-4 bg-zinc-50 dark:bg-white/[0.02] border-t border-zinc-200 dark:border-white/10 flex items-center justify-between"},re={class:"text-xs text-zinc-500 font-medium"},ne={class:"flex items-center gap-1"},ie=["disabled"],ae={class:"text-xs font-bold px-3 text-zinc-700 dark:text-zinc-300"},le=["disabled"],ue={__name:"Index",setup(de){const u=V(),b=A(),{enrollments:h,pagination:i}=S(u),p=w("All"),x=w("");let g=null;const a=(o=1)=>{u.fetchEnrollments({page:o,status:p.value==="All"?"":p.value,search:x.value})},_=o=>{p.value=o,a(1)},z=()=>{clearTimeout(g),g=setTimeout(()=>{a(1)},500)},k=o=>{a(o)},y=o=>({Approved:"bg-emerald-500/10 text-emerald-500 border-emerald-500/20",Pending:"bg-amber-500/10 text-amber-500 border-amber-500/20",Rejected:"bg-rose-500/10 text-rose-500 border-rose-500/20",Waitlisted:"bg-blue-500/10 text-blue-500 border-blue-500/20"})[o]||"bg-zinc-500/10 text-zinc-500 border-zinc-500/20",C=async(o,t)=>{const l=await u.updateEnrollmentStatus(o,t);l.success?(b.success(l.message),a(i.value.page)):b.error(l.message)};return M(()=>a()),(o,t)=>{const l=R("router-link");return d(),c("div",$,[e("div",D,[t[4]||(t[4]=e("div",null,[e("h2",{class:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 tracking-tight"}," Enrollment Requests "),e("p",{class:"text-sm text-zinc-500 mt-1"},"Manage and review trainee applications for programs.")],-1)),e("div",N,[e("div",I,[(d(),c(m,null,v(["All","Pending","Approved","Rejected","Waitlisted"],s=>e("button",{key:s,onClick:j=>_(s),class:f([[p.value===s?"bg-white dark:bg-zinc-800 text-blue-600 shadow-sm":"text-zinc-500 hover:text-zinc-700 dark:hover:text-zinc-300"],"px-4 py-1.5 text-xs font-bold rounded-lg transition-all"])},r(s),11,L)),64))]),e("div",W,[t[3]||(t[3]=e("svg",{class:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-zinc-500 group-focus-within:text-blue-500 transition-colors",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1)),B(e("input",{"onUpdate:modelValue":t[0]||(t[0]=s=>x.value=s),onInput:z,type:"text",placeholder:"Search trainee or program...",class:"pl-10 pr-4 py-2 bg-white dark:bg-white/5 border border-zinc-200 dark:border-white/10 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/20 transition-all w-64"},null,544),[[P,x.value]])])])]),e("div",q,[e("div",Q,[e("table",U,[t[7]||(t[7]=e("thead",null,[e("tr",{class:"bg-zinc-50 dark:bg-white/[0.02] border-b border-zinc-200 dark:border-white/10"},[e("th",{class:"px-6 py-4 text-[10px] font-black uppercase tracking-widest text-zinc-500"},"Trainee"),e("th",{class:"px-6 py-4 text-[10px] font-black uppercase tracking-widest text-zinc-500"},"Training Program"),e("th",{class:"px-6 py-4 text-[10px] font-black uppercase tracking-widest text-zinc-500 text-center"},"Status"),e("th",{class:"px-6 py-4 text-[10px] font-black uppercase tracking-widest text-zinc-500 text-right"},"Actions")])],-1)),e("tbody",G,[(d(!0),c(m,null,v(n(h),s=>(d(),c("tr",{key:s._id,class:"hover:bg-zinc-50 dark:hover:bg-white/[0.02] transition-colors"},[e("td",H,[e("div",J,[e("div",K,r(s.user?.full_name?.charAt(0)),1),e("div",null,[e("p",O,r(s.user?.full_name),1),e("p",X,r(s.user?.email),1)])])]),e("td",Y,r(s.training_program?.t_name),1),e("td",Z,[e("span",{class:f([y(s.status),"px-3 py-1 rounded-full text-[10px] font-black uppercase border"])},r(s.status),3)]),e("td",ee,[e("div",te,[T(l,{to:{name:"admin.enrollment.detail",params:{id:s._id}},class:"p-2 hover:text-blue-500 transition-colors"},{default:E(()=>[...t[5]||(t[5]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})],-1)])]),_:1},8,["to"]),s.status==="Pending"?(d(),c("button",{key:0,onClick:j=>C(s._id,"Approved"),class:"p-2 text-zinc-400 hover:text-emerald-500"},[...t[6]||(t[6]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})],-1)])],8,se)):F("",!0)])])]))),128))])])]),e("div",oe,[e("span",re," Showing "+r(n(h).length)+" of "+r(n(i).total)+" results ",1),e("div",ne,[e("button",{onClick:t[1]||(t[1]=s=>k(n(i).page-1)),disabled:n(i).page<=1,class:"p-2 rounded-lg hover:bg-zinc-200 dark:hover:bg-white/5 disabled:opacity-30 transition-colors"},[...t[8]||(t[8]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],8,ie),e("span",ae," Page "+r(n(i).page)+" of "+r(n(i).totalPages),1),e("button",{onClick:t[2]||(t[2]=s=>k(n(i).page+1)),disabled:n(i).page>=n(i).totalPages,class:"p-2 rounded-lg hover:bg-zinc-200 dark:hover:bg-white/5 disabled:opacity-30 transition-colors"},[...t[9]||(t[9]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,le)])])])])}}};export{ue as default};
