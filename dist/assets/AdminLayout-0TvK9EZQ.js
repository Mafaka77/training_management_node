import{y as A,s as j,C as L,m as T,o as s,c as r,a as t,g as N,n as d,u as z,k as p,b as c,w,t as k,F as $,r as B,T as y,j as M,h as m,x as V,e as S,l as E,f as H,i as I}from"./index-JY57dTMT.js";import{S as D}from"./AdminHeader.vue_vue_type_style_index_0_scoped_92cc4e76_lang-BxP1KNNT.js";import{u as U}from"./dashboardStore-CXHl39_W.js";import{_ as P}from"./Dialog-DCMmjWR0.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const R={class:"mx-auto flex max-w-[90rem] items-center justify-between px-4 py-3 sm:px-6"},K={class:"flex items-center gap-4"},W={class:"flex items-center gap-2 sm:gap-4"},Y={class:"relative"},Z={class:"p-4 border-b dark:border-white/5 flex justify-between items-center"},q={class:"text-[9px] bg-blue-500/10 text-blue-500 px-2 py-0.5 rounded-full font-bold"},G={class:"max-h-[350px] overflow-y-auto"},J={key:0,class:"p-10 text-center text-zinc-500 text-xs italic"},Q=["onClick"],X={class:"text-xs font-bold text-zinc-900 dark:text-zinc-100"},ee={class:"text-[11px] text-zinc-500 line-clamp-2 mt-0.5"},te={key:0,class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},oe={key:1,class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},se={class:"relative flex items-center gap-3 pl-3 border-l border-zinc-200 dark:border-white/10"},ne={class:"text-right hidden md:block"},re={class:"text-xs font-bold"},ie={class:"w-full h-full bg-gradient-to-tr from-blue-600 to-indigo-400 flex items-center justify-center text-white font-bold text-xs"},le={class:"p-4 border-b dark:border-white/5 bg-zinc-50/50 dark:bg-white/[0.02]"},ae={class:"text-xs font-bold text-zinc-900 dark:text-zinc-100 truncate"},de={class:"p-2"},ce={__name:"AdminHeader",props:{isDark:Boolean,user:Object},emits:["toggleTheme","toggleSidebar"],setup(l,{emit:b}){const v=m(!1),a=U(),_=A(),{notifications:h}=j(a),n=m(!1),C=L(),f=m(!1),x=m(!1),g=async u=>{const e=await a.readNotification(u._id);e.success?(await a.fetchNotification(),f.value=!1,C.push(u.target_url)):(f.value=!1,_.warning(e.message))},o=async()=>{try{localStorage.removeItem("token"),localStorage.removeItem("user"),a.$reset(),window.location.href="/"}catch(u){console.error("Logout error:",u),window.location.href="/"}};return T(()=>{a.fetchNotification()}),(u,e)=>(s(),r($,null,[t("header",{class:d(["sticky top-0 z-40 border-b backdrop-blur-xl transition-all",l.isDark?"border-white/5 bg-black/40":"border-zinc-200 bg-white/80"])},[t("div",R,[t("div",K,[t("button",{onClick:e[0]||(e[0]=i=>u.$emit("toggleSidebar")),class:"md:hidden p-2 rounded-lg hover:bg-zinc-500/10 transition-colors"},[...e[6]||(e[6]=[t("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])]),e[7]||(e[7]=N('<div class="flex items-center gap-3" data-v-92cc4e76><div class="h-12 w-12 flex items-center justify-center" data-v-92cc4e76><img src="https://upload.wikimedia.org/wikipedia/commons/1/17/Ashoka_Chakra.svg" alt="Ashoka Pillar Symbol" class="h-full w-full object-contain" data-v-92cc4e76></div><div class="hidden sm:block leading-tight" data-v-92cc4e76><span class="text-lg font-medium tracking-tight" data-v-92cc4e76>ATIMiZ <span class="text-zinc-500 font-light" data-v-92cc4e76>Smart</span></span></div></div>',1))]),t("div",W,[t("div",Y,[t("button",{onClick:e[1]||(e[1]=i=>f.value=!f.value),class:d(["w-9 h-9 flex items-center justify-center rounded-lg transition-all active:scale-95 relative",l.isDark?"text-zinc-400 hover:bg-white/5":"text-zinc-600 hover:bg-zinc-100"])},[e[8]||(e[8]=t("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})],-1)),z(h).length>0?(s(),r("span",{key:0,class:d(["absolute top-2 right-2 w-2 h-2 bg-blue-500 rounded-full border-2",l.isDark?"border-zinc-950":"border-white"])},null,2)):p("",!0)],2),c(y,{name:"pop"},{default:w(()=>[f.value?(s(),r("div",{key:0,class:d(["absolute right-0 mt-3 w-80 rounded-2xl border shadow-2xl overflow-hidden z-50",l.isDark?"bg-zinc-950 border-white/10":"bg-white border-zinc-200"])},[t("div",Z,[e[9]||(e[9]=t("span",{class:"text-[10px] font-black uppercase tracking-widest text-zinc-500"},"Notifications",-1)),t("span",q,k(z(h).length)+" New",1)]),t("div",G,[z(h).length===0?(s(),r("div",J," No new notifications ")):p("",!0),(s(!0),r($,null,B(z(h),i=>(s(),r("div",{key:i._id,onClick:xe=>g(i),class:"p-4 border-b dark:border-white/5 hover:bg-zinc-50 dark:hover:bg-white/[0.02] cursor-pointer transition-colors"},[t("p",X,k(i.title),1),t("p",ee,k(i.message),1)],8,Q))),128))])],2)):p("",!0)]),_:1})]),t("button",{onClick:e[2]||(e[2]=i=>u.$emit("toggleTheme")),class:d(["w-9 h-9 flex items-center justify-center rounded-lg border transition-all active:scale-95",l.isDark?"border-white/10 bg-white/5 text-yellow-400 hover:bg-white/10":"border-zinc-200 bg-white text-indigo-600 hover:bg-zinc-50"])},[l.isDark?(s(),r("svg",te,[...e[10]||(e[10]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364-6.364l-.707.707M6.343 17.657l-.707.707M16.243 17.657l.707.707M7.05 7.05l.707-.707M12 8a4 4 0 100 8 4 4 0 000-8z"},null,-1)])])):(s(),r("svg",oe,[...e[11]||(e[11]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])]))],2),t("div",se,[t("div",ne,[e[12]||(e[12]=t("p",{class:"text-[10px] font-black uppercase tracking-widest text-zinc-500"},"Welcome",-1)),t("p",re,k(l.user?.email?.split("@")[0]),1)]),t("button",{onClick:e[3]||(e[3]=i=>x.value=!x.value),class:d(["h-10 w-10 rounded-full border-2 transition-all active:scale-90 overflow-hidden",x.value?"border-blue-500":"border-transparent hover:border-zinc-300 dark:hover:border-white/20"])},[t("div",ie,k(l.user?.email?.charAt(0).toUpperCase()),1)],2),c(y,{name:"pop"},{default:w(()=>[x.value?(s(),r("div",{key:0,class:d(["absolute right-0 top-full mt-3 w-56 rounded-2xl border shadow-2xl overflow-hidden z-50",l.isDark?"bg-zinc-950 border-white/10":"bg-white border-zinc-200"])},[t("div",le,[e[13]||(e[13]=t("p",{class:"text-[10px] font-black uppercase tracking-widest text-zinc-500 mb-1"},"Signed in as",-1)),t("p",ae,k(l.user?.email),1)]),t("div",de,[e[15]||(e[15]=t("button",{class:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-xs font-semibold transition-colors hover:bg-zinc-100 dark:hover:bg-white/5"},[t("svg",{class:"w-4 h-4 text-zinc-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),M(" My Profile ")],-1)),t("button",{onClick:e[4]||(e[4]=i=>v.value=!0),class:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-xs font-bold text-red-500 transition-colors hover:bg-red-50 dark:hover:bg-red-500/10"},[...e[14]||(e[14]=[t("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),M(" Logout Session ",-1)])])])],2)):p("",!0)]),_:1})])])])],2),c(P,{show:v.value,loading:n.value,title:"Logout",message:"Are you sure?","confirm-text":"Logout",onClose:e[5]||(e[5]=i=>v.value=!1),onConfirm:o},null,8,["show","loading"])],64))}},ue=F(ce,[["__scopeId","data-v-92cc4e76"]]),ve={key:0,class:"fixed inset-0 pointer-events-none overflow-hidden z-0"},me={class:"flex-1 grid grid-cols-1 md:grid-cols-[17rem_1fr] max-w-[90rem] mx-auto w-full relative z-10"},be={class:"p-6 sticky top-16 h-[calc(100vh-4rem)] overflow-y-auto custom-scrollbar"},fe={class:"min-w-0 px-4 py-8 sm:px-8"},ge={key:0,class:"fixed inset-0 z-[60] flex"},pe={class:"p-4 flex justify-between items-center border-b dark:border-white/10"},he={class:"p-4 overflow-y-auto flex-1"},O="ati.theme",_e={__name:"AdminLayout",setup(l){const b=m(!1),v=m(!1),a=m(!1),_=V(),{user:h}=j(_),n=m(!1),C=()=>{document.documentElement.classList.toggle("dark",n.value)},f=()=>{const g=localStorage.getItem(O);n.value=g!==null?g==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches,C()},x=()=>{n.value=!n.value,localStorage.setItem(O,n.value?"dark":"light"),C()};return T(()=>{f(),window.addEventListener("keydown",g=>g.key==="Escape"&&(b.value=!1))}),(g,o)=>{const u=I("router-view");return s(),r("div",{class:d(["min-h-screen flex flex-col transition-colors duration-500 font-sansSelection",n.value?"bg-[#09090b] text-zinc-100":"bg-[#f4f4f5] text-zinc-900"])},[n.value?(s(),r("div",ve,[...o[7]||(o[7]=[t("div",{class:"absolute -top-[10%] -left-[10%] w-[40%] h-[40%] bg-blue-600/10 blur-[120px] rounded-full"},null,-1)])])):p("",!0),c(ue,{isDark:n.value,user:z(h),onToggleTheme:x,onToggleSidebar:o[0]||(o[0]=e=>b.value=!0)},null,8,["isDark","user"]),t("div",me,[t("aside",{class:d(["hidden md:block border-r transition-colors",n.value?"border-white/5 bg-black/10":"border-zinc-200 bg-zinc-50/30"])},[t("div",be,[c(D,{trainingOpen:v.value,"onUpdate:trainingOpen":o[1]||(o[1]=e=>v.value=e),masterOpen:a.value,"onUpdate:masterOpen":o[2]||(o[2]=e=>a.value=e),isDark:n.value},null,8,["trainingOpen","masterOpen","isDark"])])],2),t("main",fe,[c(u,null,{default:w(({Component:e,route:i})=>[c(y,{name:"page-fade",mode:"out-in"},{default:w(()=>[(s(),S(E(e),{key:i.fullPath}))]),_:2},1024)]),_:1})])]),(s(),S(H,{to:"body"},[c(y,{name:"fade"},{default:w(()=>[b.value?(s(),r("div",ge,[t("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:o[3]||(o[3]=e=>b.value=!1)}),c(y,{name:"slide-right"},{default:w(()=>[b.value?(s(),r("aside",{key:0,class:d(["relative w-[260px] h-full flex flex-col shadow-2xl transition-colors",n.value?"bg-zinc-950 border-r border-white/10":"bg-white"])},[t("div",pe,[o[8]||(o[8]=t("span",{class:"font-bold text-[10px] uppercase tracking-widest text-zinc-500"},"Menu",-1)),t("button",{onClick:o[4]||(o[4]=e=>b.value=!1),class:"p-1 rounded hover:bg-zinc-500/10 transition-colors"},"âœ•")]),t("div",he,[c(D,{trainingOpen:v.value,"onUpdate:trainingOpen":o[5]||(o[5]=e=>v.value=e),masterOpen:a.value,"onUpdate:masterOpen":o[6]||(o[6]=e=>a.value=e),isDark:n.value},null,8,["trainingOpen","masterOpen","isDark"])])],2)):p("",!0)]),_:1})])):p("",!0)]),_:1})]))],2)}}};export{_e as default};
