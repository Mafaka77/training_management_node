import{s as H,L as U,m as $,o as n,c as s,a as e,b as v,w,j as u,F as h,r as m,n as p,u as a,t as l,z as A,A as N,M as L,g as F,k as M,i as O,p as P}from"./index-JY57dTMT.js";import{u as R}from"./trainingStore-C5BT5wys.js";import{d as I}from"./index-C8G2vthF.js";import"./_commonjsHelpers-Cpj98o6Y.js";const E={class:"space-y-6 max-w-6xl mx-auto"},G={class:"flex flex-col gap-6 mb-4"},q={class:"flex flex-col md:flex-row md:items-center justify-between gap-4"},J={class:"relative max-w-md"},K={class:"flex flex-wrap items-center gap-2 mb-4"},Q=["onClick"],W={key:0,class:"flex flex-col items-center justify-center py-20 bg-zinc-50 dark:bg-white/5 rounded-3xl border-2 border-dashed border-zinc-200 dark:border-white/10"},X={key:1,class:"grid grid-cols-1 gap-4"},Y={class:"relative flex-shrink-0"},Z=["src"],ee={class:"flex-1 min-w-0"},te={class:"flex items-center gap-3 mb-2"},re={class:"text-lg font-bold text-zinc-900 dark:text-zinc-100 truncate"},oe={class:"flex flex-wrap items-center gap-y-2 gap-x-4 mb-4 text-sm text-zinc-500 dark:text-zinc-400"},ne={class:"flex items-center gap-1.5 font-medium"},se={key:0,class:"flex items-center gap-1.5 font-medium"},ae={class:"flex items-center gap-1.5 font-medium"},ie={class:"flex flex-wrap gap-2"},le={class:"mt-4 pt-4 border-t border-zinc-100 dark:border-white/5 flex flex-wrap items-center justify-between gap-4"},de={class:"flex items-center gap-3"},ce={class:"relative"},ue=["value","onChange"],be={class:"flex md:flex-col gap-2 pt-4 md:pt-0 border-t md:border-t-0 border-zinc-100 dark:border-white/5"},xe=["onClick"],ge={key:2,class:"flex justify-end pt-8"},he={class:"flex items-center gap-2"},me=["disabled"],pe=["onClick"],ke=["disabled"],ye={__name:"Index",setup(ve){const d=R(),{programs:f,page:b,totalPages:x,search:g,status:z}=H(d),C="http://192.168.29.114:5001";function j(o){return o?`${C}${o}`:"https://via.placeholder.com/400x400?text=No+Banner"}const _={Draft:{color:"bg-amber-500",badge:"bg-amber-50 dark:bg-amber-500/10 text-amber-600 dark:text-amber-400 border-amber-100 dark:border-amber-500/20"},Upcoming:{color:"bg-red-400",badge:"bg-red-50 dark:bg-red-500/10 text-red-600 dark:text-red-400 border-red-100 dark:border-amber-500/20"},Ongoing:{color:"bg-blue-500",badge:"bg-blue-50 dark:bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-100 dark:border-blue-500/20"},Completed:{color:"bg-emerald-500",badge:"bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 dark:text-emerald-500 border-emerald-100 dark:border-emerald-500/20"}},y=o=>_[o]||_.Upcoming,B=(o,t)=>{if(!o)return"TBA";const c={month:"short",day:"numeric"},r=new Date(o).toLocaleDateString("en-US",c),i=new Date(t).toLocaleDateString("en-US",{...c,year:"numeric"});return`${r} - ${i}`},S=o=>{d.status=o,d.fetchTrainings(1)},V=P(()=>Array.from({length:x.value},(o,t)=>t+1)),k=async o=>{o>=1&&o<=x.value&&(await d.fetchTrainings(o),window.scrollTo({top:0,behavior:"smooth"}))},D=I(()=>d.fetchTrainings(),500);U([g,z],()=>{D()}),$(()=>d.fetchTrainings());const T=o=>{console.log("Delete triggered for",o.t_name)};return(o,t)=>{const c=O("router-link");return n(),s("div",E,[e("div",G,[e("div",q,[t[4]||(t[4]=e("div",{class:"space-y-1"},[e("h2",{class:"text-2xl font-bold text-zinc-900 dark:text-zinc-100 tracking-tight"}," Training Programs "),e("p",{class:"text-sm text-zinc-500 dark:text-zinc-400"}," Monitor and manage educational sessions and eligibility. ")],-1)),v(c,{to:"/admin/training/program/create",class:"inline-flex items-center justify-center gap-2 px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white text-sm font-semibold rounded-xl transition-all shadow-lg shadow-blue-500/20 active:scale-95"},{default:w(()=>[...t[3]||(t[3]=[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4v16m8-8H4"})],-1),u(" New Program ",-1)])]),_:1})]),e("div",J,[t[5]||(t[5]=e("span",{class:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none"},[e("svg",{class:"w-5 h-5 text-zinc-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})])],-1)),e("div",K,[(n(),s(h,null,m(["All","Draft","Upcoming","Ongoing","Completed"],r=>e("button",{key:r,onClick:i=>S(r),class:p([a(z)===r?"bg-blue-600 text-white shadow-md":"bg-white dark:bg-zinc-900/50 text-zinc-600 dark:text-zinc-400 border-zinc-200 dark:border-white/10 hover:border-blue-500/50","px-4 py-1.5 rounded-xl border text-xs font-bold transition-all active:scale-95"])},l(r),11,Q)),64))]),A(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>L(g)?g.value=r:null),type:"text",placeholder:"Search programs by name...",class:"block w-full pl-10 pr-4 py-2.5 text-sm rounded-xl border transition-all bg-white dark:bg-zinc-900/50 border-zinc-200 dark:border-white/10 text-zinc-900 dark:text-zinc-100 focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 outline-none"},null,512),[[N,a(g)]])])]),a(f).length===0?(n(),s("div",W,[...t[6]||(t[6]=[F('<div class="p-4 rounded-full bg-zinc-100 dark:bg-white/10 mb-4 text-zinc-400"><svg class="w-10 h-10" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg></div><h3 class="text-zinc-900 dark:text-zinc-100 font-semibold">No programs found</h3><p class="text-zinc-500 text-sm mt-1">Try a different search or create a new session.</p>',3)])])):(n(),s("div",X,[(n(!0),s(h,null,m(a(f),r=>(n(),s("div",{key:r._id,class:"group relative flex flex-col md:flex-row md:items-center gap-6 p-5 rounded-2xl border transition-all duration-300 bg-white dark:bg-zinc-900/50 border-zinc-200 dark:border-white/10 hover:shadow-xl hover:border-blue-500/40"},[e("div",Y,[e("img",{src:j(r.t_banner),class:"w-full md:w-32 h-32 md:h-32 rounded-2xl object-cover shadow-md border border-zinc-100 dark:border-white/5"},null,8,Z),e("div",{class:p(["absolute -top-1 -right-1 w-4 h-4 rounded-full border-2 border-white dark:border-zinc-900 shadow-sm animate-pulse",y(r.t_status).color])},null,2)]),e("div",ee,[e("div",te,[e("h3",re,l(r.t_name),1),e("span",{class:p(["px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-wider border whitespace-nowrap",y(r.t_status).badge])},l(r.t_status),3)]),e("div",oe,[e("span",ne,[t[7]||(t[7]=e("svg",{class:"w-4 h-4 text-blue-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})],-1)),u(" "+l(B(r.t_start_date,r.t_end_date)),1)]),r.t_category?(n(),s("span",se,[t[8]||(t[8]=e("svg",{class:"w-4 h-4 text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),t[9]||(t[9]=e("svg",{class:"w-4 h-4 text-amber-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 7h.01M7 3h5c.512 0 1.024.195 1.414.586l7 7a2 2 0 010 2.828l-7 7a2 2 0 01-2.828 0l-7-7A1.994 1.994 0 013 12V7a4 4 0 014-4z"})],-1)),u(" "+l(r.t_category.name||"General"),1)])):M("",!0),e("span",ae,[t[10]||(t[10]=e("svg",{class:"w-4 h-4 text-emerald-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})],-1)),u(" Cap: "+l(r.t_capacity),1)])]),e("div",ie,[(n(!0),s(h,null,m(r.t_eligibility,i=>(n(),s("span",{key:i._id,class:"inline-flex items-center gap-1 px-2.5 py-1 rounded-lg text-[10px] font-black uppercase tracking-tight bg-blue-50/50 dark:bg-blue-500/10 text-blue-700 dark:text-blue-400 border border-blue-100 dark:border-blue-500/20"},[t[11]||(t[11]=e("svg",{class:"w-3 h-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0z"})],-1)),u(" "+l(i.group_name),1)]))),128))]),e("div",le,[e("div",de,[t[14]||(t[14]=e("label",{class:"text-[10px] font-bold uppercase tracking-widest text-zinc-400"}," Status: ",-1)),e("div",ce,[e("select",{value:r.t_status,onChange:i=>o.handleStatusChange(r,i.target.value),class:"appearance-none pl-3 pr-8 py-1.5 rounded-lg text-xs font-semibold bg-zinc-100 dark:bg-white/5 border border-zinc-200 dark:border-white/10 text-zinc-700 dark:text-zinc-300 outline-none cursor-pointer transition-all"},[...t[12]||(t[12]=[e("option",{value:"Draft"},"Draft",-1),e("option",{value:"Upcoming"},"Upcoming",-1),e("option",{value:"Ongoing"},"Ongoing",-1),e("option",{value:"Finished"},"Finished",-1)])],40,ue),t[13]||(t[13]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none text-zinc-400"},[e("svg",{class:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M19 9l-7 7-7-7"})])],-1))])]),v(c,{to:{name:"training.session",params:{id:r._id}},class:"inline-flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-bold bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border border-emerald-100 dark:border-emerald-500/20 hover:bg-emerald-600 hover:text-white transition-all active:scale-95"},{default:w(()=>[...t[15]||(t[15]=[e("svg",{class:"w-3.5 h-3.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M12 4v16m8-8H4"})],-1),u(" Manage ",-1)])]),_:1},8,["to"])])]),e("div",be,[v(c,{to:{name:"training.program.edit",params:{id:r._id}},class:"flex-1 p-2.5 rounded-xl bg-zinc-100 dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300 hover:bg-blue-600 hover:text-white transition-all shadow-sm"},{default:w(()=>[...t[16]||(t[16]=[e("svg",{class:"w-5 h-5 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2.5 2.5 0 113.536 3.536L12 20.364H8v-4.364l9.293-9.293z"})],-1)])]),_:1},8,["to"]),e("button",{onClick:i=>T(r),class:"flex-1 p-2.5 rounded-xl bg-red-50 dark:bg-red-500/10 text-red-600 dark:text-red-500 hover:bg-red-600 hover:text-white transition-all shadow-sm"},[...t[17]||(t[17]=[e("svg",{class:"w-5 h-5 mx-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)])],8,xe)])]))),128))])),a(x)>=1?(n(),s("nav",ge,[e("ul",he,[e("li",null,[e("button",{onClick:t[1]||(t[1]=r=>k(a(b)-1)),disabled:a(b)===1,class:"p-2.5 rounded-xl border border-zinc-200 dark:border-white/10 text-zinc-500 hover:bg-zinc-100 dark:hover:bg-white/10 disabled:opacity-30 transition-all"},[...t[18]||(t[18]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],8,me)]),(n(!0),s(h,null,m(V.value,r=>(n(),s("li",{key:r},[e("button",{onClick:i=>k(r),class:p([r===a(b)?"bg-blue-600 text-white border-blue-600":"text-zinc-600 dark:text-zinc-400 border-zinc-200 dark:border-white/10 hover:bg-zinc-100 dark:hover:bg-white/10","w-10 h-10 rounded-xl border text-sm font-bold transition-all"])},l(r),11,pe)]))),128)),e("li",null,[e("button",{onClick:t[2]||(t[2]=r=>k(a(b)+1)),disabled:a(b)===a(x),class:"p-2.5 rounded-xl border border-zinc-200 dark:border-white/10 text-zinc-500 hover:bg-zinc-100 dark:hover:bg-white/10 disabled:opacity-30 transition-all"},[...t[19]||(t[19]=[e("svg",{class:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1)])],8,ke)])])])):M("",!0)])}}};export{ye as default};
