import{y as g,s as f,m as w,o as m,c as u,b as s,a as o,u as y,k as x,t as V,G as h,H as v,h as k}from"./index-BV9NVDf5.js";import{u as S}from"./userManageStore-CdOkjkIT.js";import{B as r}from"./BaseInput-Dax87Xvs.js";import{S as z}from"./SingleSelect-GTCaIoaM.js";import{_}from"./Breadcrumbs-T6b1-PtM.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const C={class:"max-w-5xl mx-auto pb-10"},D={class:"bg-white dark:bg-zinc-900/50 border border-zinc-200 dark:border-white/10 rounded-2xl p-6 shadow-sm"},E={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},U={class:"md:col-span-1"},A={class:"flex items-center justify-end gap-4 mt-8 pt-6 border-t border-zinc-100 dark:border-white/5"},B=["disabled"],M={key:0,class:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},G={__name:"Create",setup(N){const n=g(),d=S(),{districts:p}=f(d),i=k(!1),l=v({full_name:"",email:"",mobile:"",password:"",district:"",designation:"",department:""}),c=[{label:"Employee",to:"/admin/employee"},{label:"Create Employee"}],b=async()=>{i.value=!0;try{const a=await d.submitEmployee(l);a.success===!1?n.error(a.message):(n.success(a.message),Object.assign(l,{full_name:"",email:"",mobile:"",password:"",district:"",designation:"",department:""}))}catch(a){n.error("An error occurred while saving the trainer."),console.error(a)}finally{i.value=!1}};return w(()=>{d.fetchDistricts()}),(a,e)=>(m(),u("div",C,[s(_,{items:c}),o("form",{onSubmit:h(b,["prevent"])},[o("div",D,[e[9]||(e[9]=o("div",{class:"mb-8 border-b border-zinc-100 dark:border-white/5 pb-4"},[o("h2",{class:"text-lg font-bold text-zinc-900 dark:text-zinc-100"},"Employee Details"),o("p",{class:"text-sm text-zinc-500"},"Fill in the information to register a new ATI Employee.")],-1)),o("div",E,[s(r,{modelValue:l.full_name,"onUpdate:modelValue":e[0]||(e[0]=t=>l.full_name=t),label:"Full Name",placeholder:"e.g. John Doe",type:"text"},null,8,["modelValue"]),s(r,{modelValue:l.email,"onUpdate:modelValue":e[1]||(e[1]=t=>l.email=t),label:"Email Address",type:"email",placeholder:"john@example.com"},null,8,["modelValue"]),s(r,{modelValue:l.mobile,"onUpdate:modelValue":e[2]||(e[2]=t=>l.mobile=t),type:"text",label:"Mobile Number",placeholder:"e.g. 9876543210"},null,8,["modelValue"]),s(r,{modelValue:l.password,"onUpdate:modelValue":e[3]||(e[3]=t=>l.password=t),type:"password",label:"Password",placeholder:"Set a secure password"},null,8,["modelValue"]),s(r,{modelValue:l.department,"onUpdate:modelValue":e[4]||(e[4]=t=>l.department=t),type:"text",label:"Department",placeholder:"e.g. ATI"},null,8,["modelValue"]),s(r,{modelValue:l.designation,"onUpdate:modelValue":e[5]||(e[5]=t=>l.designation=t),type:"text",label:"Designation",placeholder:"e.g. Senior Instructor"},null,8,["modelValue"]),o("div",U,[s(z,{options:y(p),modelValue:l.district,"onUpdate:modelValue":e[6]||(e[6]=t=>l.district=t),"track-by":"_id",label:"Assigned District",placeholder:"Select District"},null,8,["options","modelValue"])])]),o("div",A,[o("button",{type:"button",onClick:e[7]||(e[7]=t=>a.$router.back()),class:"px-6 py-2.5 rounded-xl text-zinc-500 hover:bg-zinc-100 dark:hover:bg-white/5 font-semibold transition-all"}," Cancel "),o("button",{type:"submit",disabled:i.value,class:"flex items-center justify-center px-8 py-2.5 rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-bold shadow-lg shadow-blue-500/30 transition-all disabled:opacity-50 disabled:cursor-not-allowed min-w-[160px]"},[i.value?(m(),u("svg",M,[...e[8]||(e[8]=[o("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),o("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):x("",!0),o("span",null,V(i.value?"Saving...":"Save Employee"),1)],8,B)])])],32)]))}};export{G as default};
