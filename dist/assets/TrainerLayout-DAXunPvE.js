import{y as _,s as M,C as j,m as T,o as l,c as u,a as e,g as L,n as v,t as h,b as d,w as p,j as z,k,T as w,F as B,h as b,x as E,u as A,e as C,l as H,f as I,i as V}from"./index-Cg_xg-mB.js";import{S}from"./AdminHeader.vue_vue_type_style_index_0_scoped_92cc4e76_lang-CgjSJr1l.js";import{u as N}from"./dashboardStore-DUAN5m_r.js";import{_ as U}from"./Dialog-KPZEHyEa.js";import{_ as F}from"./_plugin-vue_export-helper-DlAUqK2U.js";const P={class:"mx-auto flex max-w-[90rem] items-center justify-between px-4 py-3 sm:px-6"},R={class:"flex items-center gap-4"},K={class:"flex items-center gap-2 sm:gap-4"},W={key:0,class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Y={key:1,class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},q={class:"relative flex items-center gap-3 pl-3 border-l border-zinc-200 dark:border-white/10"},G={class:"text-right hidden md:block"},J={class:"text-xs font-bold"},Q={class:"w-full h-full bg-gradient-to-tr from-blue-600 to-indigo-400 flex items-center justify-center text-white font-bold text-xs"},X={class:"p-4 border-b dark:border-white/5 bg-zinc-50/50 dark:bg-white/[0.02]"},Z={class:"text-xs font-bold text-zinc-900 dark:text-zinc-100 truncate"},ee={class:"p-2"},te={__name:"TrainerHeader",props:{isDark:Boolean,user:Object},emits:["toggleTheme","toggleSidebar"],setup(i,{emit:c}){const a=b(!1),m=N();_();const{notifications:y}=M(m),x=b(!1);j();const o=b(!1),g=async()=>{try{localStorage.removeItem("token"),localStorage.removeItem("user"),m.$reset(),window.location.href="/"}catch(f){console.error("Logout error:",f),window.location.href="/"}};return T(()=>{}),(f,t)=>(l(),u(B,null,[e("header",{class:v(["sticky top-0 z-40 border-b backdrop-blur-xl transition-all",i.isDark?"border-white/5 bg-black/40":"border-zinc-200 bg-white/80"])},[e("div",P,[e("div",R,[e("button",{onClick:t[0]||(t[0]=n=>f.$emit("toggleSidebar")),class:"md:hidden p-2 rounded-lg hover:bg-zinc-500/10 transition-colors"},[...t[5]||(t[5]=[e("svg",{class:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6h16M4 12h16M4 18h16"})],-1)])]),t[6]||(t[6]=L('<div class="flex items-center gap-3" data-v-1ee5534d><div class="h-9 w-9 rounded-xl bg-gradient-to-br from-blue-600 to-indigo-600 flex items-center justify-center shadow-lg shadow-blue-500/20" data-v-1ee5534d><span class="text-white font-black text-lg" data-v-1ee5534d>A</span></div><div class="hidden sm:block leading-tight" data-v-1ee5534d><h1 class="text-sm font-black tracking-tighter uppercase italic" data-v-1ee5534d>ATI System</h1></div></div>',1))]),e("div",K,[e("button",{onClick:t[1]||(t[1]=n=>f.$emit("toggleTheme")),class:v(["w-9 h-9 flex items-center justify-center rounded-lg border transition-all active:scale-95",i.isDark?"border-white/10 bg-white/5 text-yellow-400 hover:bg-white/10":"border-zinc-200 bg-white text-indigo-600 hover:bg-zinc-50"])},[i.isDark?(l(),u("svg",W,[...t[7]||(t[7]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364-6.364l-.707.707M6.343 17.657l-.707.707M16.243 17.657l.707.707M7.05 7.05l.707-.707M12 8a4 4 0 100 8 4 4 0 000-8z"},null,-1)])])):(l(),u("svg",Y,[...t[8]||(t[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"},null,-1)])]))],2),e("div",q,[e("div",G,[t[9]||(t[9]=e("p",{class:"text-[10px] font-black uppercase tracking-widest text-zinc-500"},"Welcome",-1)),e("p",J,h(i.user?.email?.split("@")[0]),1)]),e("button",{onClick:t[2]||(t[2]=n=>o.value=!o.value),class:v(["h-10 w-10 rounded-full border-2 transition-all active:scale-90 overflow-hidden",o.value?"border-blue-500":"border-transparent hover:border-zinc-300 dark:hover:border-white/20"])},[e("div",Q,h(i.user?.email?.charAt(0).toUpperCase()),1)],2),d(w,{name:"pop"},{default:p(()=>[o.value?(l(),u("div",{key:0,class:v(["absolute right-0 top-full mt-3 w-56 rounded-2xl border shadow-2xl overflow-hidden z-50",i.isDark?"bg-zinc-950 border-white/10":"bg-white border-zinc-200"])},[e("div",X,[t[10]||(t[10]=e("p",{class:"text-[10px] font-black uppercase tracking-widest text-zinc-500 mb-1"},"Signed in as",-1)),e("p",Z,h(i.user?.email),1)]),e("div",ee,[t[12]||(t[12]=e("button",{class:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-xs font-semibold transition-colors hover:bg-zinc-100 dark:hover:bg-white/5"},[e("svg",{class:"w-4 h-4 text-zinc-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})]),z(" My Profile ")],-1)),e("button",{onClick:t[3]||(t[3]=n=>a.value=!0),class:"w-full flex items-center gap-3 px-3 py-2.5 rounded-xl text-xs font-bold text-red-500 transition-colors hover:bg-red-50 dark:hover:bg-red-500/10"},[...t[11]||(t[11]=[e("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})],-1),z(" Logout Session ",-1)])])])],2)):k("",!0)]),_:1})])])])],2),d(U,{show:a.value,loading:x.value,title:"Logout",message:"Are you sure?","confirm-text":"Logout",onClose:t[4]||(t[4]=n=>a.value=!1),onConfirm:g},null,8,["show","loading"])],64))}},oe=F(te,[["__scopeId","data-v-1ee5534d"]]),se={key:0,class:"fixed inset-0 pointer-events-none overflow-hidden z-0"},re={class:"flex-1 grid grid-cols-1 md:grid-cols-[17rem_1fr] max-w-[90rem] mx-auto w-full relative z-10"},ne={class:"p-6 sticky top-16 h-[calc(100vh-4rem)] overflow-y-auto custom-scrollbar"},le={class:"min-w-0 px-4 py-8 sm:px-8"},ie={key:0,class:"fixed inset-0 z-[60] flex"},ae={class:"p-4 flex justify-between items-center border-b dark:border-white/10"},de={class:"p-4 overflow-y-auto flex-1"},$="ati.theme",fe={__name:"TrainerLayout",setup(i){const c=b(!1),a=b(!1),m=b(!1),y=E(),{user:x}=M(y),o=b(!1),g=()=>{o.value?(document.documentElement.classList.add("dark"),document.documentElement.style.colorScheme="dark"):(document.documentElement.classList.remove("dark"),document.documentElement.style.colorScheme="light")},f=()=>{const n=localStorage.getItem($);n!==null?o.value=n==="dark":o.value=window.matchMedia("(prefers-color-scheme: dark)").matches,g()},t=()=>{o.value=!o.value,localStorage.setItem($,o.value?"dark":"light"),g()};return T(()=>{f(),window.addEventListener("keydown",n=>n.key==="Escape"&&(c.value=!1))}),(n,s)=>{const O=V("router-view");return l(),u("div",{class:v(["min-h-screen flex flex-col transition-colors duration-500 font-sansSelection",o.value?"bg-[#09090b] text-zinc-100":"bg-[#f4f4f5] text-zinc-900"])},[o.value?(l(),u("div",se,[...s[7]||(s[7]=[e("div",{class:"absolute -top-[10%] -left-[10%] w-[40%] h-[40%] bg-blue-600/10 blur-[120px] rounded-full"},null,-1)])])):k("",!0),d(oe,{isDark:o.value,user:A(x),onToggleTheme:t,onToggleSidebar:s[0]||(s[0]=r=>c.value=!0)},null,8,["isDark","user"]),e("div",re,[e("aside",{class:v(["hidden md:block border-r transition-colors",o.value?"border-white/5 bg-black/10":"border-zinc-200 bg-zinc-50/30"])},[e("div",ne,[d(S,{trainingOpen:a.value,"onUpdate:trainingOpen":s[1]||(s[1]=r=>a.value=r),masterOpen:m.value,"onUpdate:masterOpen":s[2]||(s[2]=r=>m.value=r),isDark:o.value},null,8,["trainingOpen","masterOpen","isDark"])])],2),e("main",le,[d(O,null,{default:p(({Component:r,route:D})=>[(l(),C(H(r),{key:D.fullPath}))]),_:1})])]),(l(),C(I,{to:"body"},[d(w,{name:"fade"},{default:p(()=>[c.value?(l(),u("div",ie,[e("div",{class:"fixed inset-0 bg-black/60 backdrop-blur-sm",onClick:s[3]||(s[3]=r=>c.value=!1)}),d(w,{name:"slide-right"},{default:p(()=>[c.value?(l(),u("aside",{key:0,class:v(["relative w-[260px] h-full flex flex-col shadow-2xl transition-colors",o.value?"bg-zinc-950 border-r border-white/10":"bg-white"])},[e("div",ae,[s[8]||(s[8]=e("span",{class:"font-bold text-[10px] uppercase tracking-widest text-zinc-500"},"Menu",-1)),e("button",{onClick:s[4]||(s[4]=r=>c.value=!1),class:"p-1 rounded hover:bg-zinc-500/10 transition-colors"},"âœ•")]),e("div",de,[d(S,{trainingOpen:a.value,"onUpdate:trainingOpen":s[5]||(s[5]=r=>a.value=r),masterOpen:m.value,"onUpdate:masterOpen":s[6]||(s[6]=r=>m.value=r),isDark:o.value},null,8,["trainingOpen","masterOpen","isDark"])])],2)):k("",!0)]),_:1})])):k("",!0)]),_:1})]))],2)}}};export{fe as default};
