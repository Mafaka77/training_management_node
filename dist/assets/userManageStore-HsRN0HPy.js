import{q as r,K as a}from"./index-DBqKtzZ_.js";const n=r("userManageStore",{state:()=>({trainers:[],isLoading:!0,districts:[],trainees:[],isTraineeLoading:!0,groups:[],traineePage:1,traineeTotalPages:1,traineesTotal:0,employees:[]}),actions:{async fetchTrainers(){try{this.isLoading=!0;const s=await a.get("/trainers");this.trainers=s.data.trainers,this.isLoading=!1}catch{this.isLoading=!1}},async fetchDistricts(){try{const s=await a.get("/districts");this.districts=s.data.districts}catch{}},async submitTrainer(s){try{const e=await a.post("/trainer",s);if(e.status===200){if(e.data.status===400)return{success:!1,message:e.data.message};if(e.data.status===409)return{success:!1,message:e.data.message};if(e.data.status===201)return{success:!0,message:e.data.message}}else return{success:!1,message:"Server Error. Please try again later."}}catch{return{success:!1,message:"Server Error. Please try again later."}}},async deleteTrainer(s){try{const e=await a.delete(`/trainer/${s}`);return e.status===200?e.data.status===200?{success:!0,message:e.data.message}:{success:!1,message:e.data.message}:{success:!1,message:"Server Error. Please try again later."}}catch{return{success:!1,message:"Server Error. Please try again later."}}},async fetchTrainee(s=1,e=""){this.isTraineeLoading=!0;try{const t=await a.get("/trainees",{params:{page:s,search:e,limit:3}});console.log(t.data),this.trainees=t.data.trainees,this.traineePage=t.data.pagination.page,this.traineeTotalPages=t.data.pagination.totalPages,this.traineesTotal=t.data.pagination.total,this.isTraineeLoading=!1}catch{this.isTraineeLoading=!1}},async submitTrainee(s){try{const e=await a.post("/trainee",s);if(e.status===200){if(e.data.status===400)return{success:!1,message:e.data.message};if(e.data.status===409)return{success:!1,message:e.data.message};if(e.data.status===201)return{success:!0,message:e.data.message}}else return{success:!1,message:"Server Error. Please try again later."}}catch{return{success:!1,message:"Server Error. Please try again later."}}},async fetchGroups(){try{const s=await a.get("/get-all-groups");this.groups=s.data.groups}catch{}},async deleteTrainee(s){},async submitEmployee(s){try{const e=await a.post("/employee",s);return e.status===200&&e.data.status===201?{success:!0,message:e.data.message}:{success:!1,message:e.data.message}}catch{return{success:!1,message:"Server Error. Please try again later."}}},async fetchEmployees(){try{this.isLoading=!0;const s=await a.get("/employees");this.employees=s.data.employees,console.log(s.data.employees),this.isLoading=!1}catch{this.isLoading=!1}}}});export{n as u};
