import{s as w,m as y,o as s,c as a,a as t,b as p,w as f,u as o,t as i,F as x,r as h,n as u,e as m,j as v,D as z,i as C}from"./index-BV9NVDf5.js";import{d as A}from"./dayjs.min-G8h-aa4f.js";import{u as T}from"./attendanceStore-ydl6PwLC.js";import{C as B,L}from"./loader-circle-C0f6iDlY.js";import{C as P}from"./circle-check-big-slnr1yYP.js";import"./_commonjsHelpers-Cpj98o6Y.js";import"./createLucideIcon-Cv-cGjnV.js";const S={class:"space-y-6"},I={class:"flex items-center justify-between"},M={class:"flex items-center gap-4"},N={key:0,class:"h-7 w-48 bg-zinc-200 dark:bg-white/10 animate-pulse rounded-lg"},j={key:1,class:"text-xl font-bold dark:text-white"},V={class:"bg-white dark:bg-zinc-900/40 border border-zinc-200 dark:border-white/5 rounded-[2rem] overflow-hidden"},D={class:"w-full text-left border-collapse"},F={class:"divide-y divide-zinc-200 dark:divide-white/5"},R={class:"px-8 py-4"},E={class:"flex items-center gap-3"},$={class:"text-sm font-medium dark:text-zinc-200"},q={class:"text-[10px] text-zinc-500"},G={class:"px-8 py-4 text-center"},H={key:0,class:"font-mono text-[11px] text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-500/10 px-2 py-1 rounded-md"},J={key:1,class:"text-[10px] text-zinc-400 font-medium"},K={class:"px-8 py-4 text-center"},O={class:"px-8 py-4 text-right"},Q=["onClick","disabled"],ot={__name:"Index",setup(U){const d=z(),c=T(),{isAttendanceLoading:l,trainees:b,sessionTopic:g}=w(c),k=r=>r?A(r).format("hh:mm A"):"--:--";return y(()=>{c.fetchSessionAttendance(d.params.sessionId)}),(r,n)=>{const _=C("router-link");return s(),a("div",S,[t("div",I,[t("div",M,[p(_,{to:{name:"training.session",params:{id:o(d).params.id}},class:"p-2 rounded-xl bg-zinc-100 dark:bg-white/5 text-zinc-500 hover:text-blue-500 transition-colors"},{default:f(()=>[p(o(B),{class:"w-5 h-5"})]),_:1},8,["to"]),t("div",null,[o(l)?(s(),a("div",N)):(s(),a("h1",j,i(o(g)),1)),n[0]||(n[0]=t("p",{class:"text-xs text-zinc-500 uppercase tracking-widest font-black"},"Attendance",-1))])])]),t("div",V,[t("table",D,[n[2]||(n[2]=t("thead",null,[t("tr",{class:"border-b border-zinc-200 dark:border-white/5 text-[10px] uppercase tracking-widest text-zinc-400 font-black"},[t("th",{class:"px-8 py-4"},"Trainee Name"),t("th",{class:"px-8 py-4 text-center"},"Sign-in Time"),t("th",{class:"px-8 py-4 text-center"},"Status"),t("th",{class:"px-8 py-4 text-right"},"Actions")])],-1)),t("tbody",F,[o(l)?(s(),a(x,{key:0},h(5,e=>t("tr",{key:e,class:"animate-pulse"},[...n[1]||(n[1]=[t("td",{class:"px-8 py-5"},[t("div",{class:"space-y-2"},[t("div",{class:"h-4 w-32 bg-zinc-200 dark:bg-white/10 rounded"}),t("div",{class:"h-3 w-40 bg-zinc-100 dark:bg-white/5 rounded"})])],-1),t("td",{class:"px-8 py-5"},[t("div",{class:"mx-auto h-5 w-16 bg-zinc-100 dark:bg-white/5 rounded-md"})],-1),t("td",{class:"px-8 py-5"},[t("div",{class:"mx-auto h-5 w-20 bg-zinc-100 dark:bg-white/5 rounded-full"})],-1),t("td",{class:"px-8 py-5 text-right"},[t("div",{class:"ml-auto h-9 w-32 bg-zinc-200 dark:bg-white/10 rounded-xl"})],-1)])])),64)):(s(!0),a(x,{key:1},h(o(b),e=>(s(),a("tr",{key:e._id,class:"group hover:bg-zinc-50 dark:hover:bg-white/[0.02] transition-colors"},[t("td",R,[t("div",E,[t("div",null,[t("p",$,i(e.name),1),t("p",q,i(e.email),1)])])]),t("td",G,[e.signInTime?(s(),a("span",H,i(k(e.signInTime)),1)):(s(),a("span",J,"--:--"))]),t("td",K,[t("span",{class:u([e.status==="Present"?"text-emerald-500 bg-emerald-500/10":"text-zinc-400 bg-zinc-400/10","px-3 py-1 rounded-full text-[10px] font-bold uppercase tracking-tighter transition-colors"])},i(e.status),3)]),t("td",O,[t("button",{onClick:W=>r.handleMarkAttendance(e),disabled:e.isProcessing,class:u(["inline-flex items-center gap-2 px-4 py-2 rounded-xl text-[11px] font-bold transition-all active:scale-95 disabled:opacity-50",e.status==="Present"?"bg-emerald-500 text-white shadow-lg shadow-emerald-500/20":"bg-zinc-100 dark:bg-white/5 text-zinc-600 dark:text-zinc-400 hover:bg-zinc-200 dark:hover:bg-white/10 border border-transparent"])},[e.isProcessing?(s(),m(o(L),{key:0,class:"w-3.5 h-3.5 animate-spin"})):(s(),m(o(P),{key:1,class:"w-3.5 h-3.5"})),v(" "+i(e.status==="Present"?"Marked":"Mark Attendance"),1)],10,Q)])]))),128))])])])])}}};export{ot as default};
