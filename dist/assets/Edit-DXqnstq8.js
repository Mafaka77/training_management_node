import{y,E as h,m as V,o as m,c as p,a as o,b as s,w,j as k,g as R,I as U,t as _,F as B,G as C,i as j,h as f,J as z,C as M}from"./index-DBqKtzZ_.js";import{u as N}from"./masterStore-DGZJc00c.js";import{B as n}from"./BaseInput-DNVzMemK.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const S={class:"flex p-3 bg-white/5 border border-white/10 rounded-xl mb-6","aria-label":"Breadcrumb"},D={class:"inline-flex items-center space-x-1 md:space-x-2"},E={class:"inline-flex items-center"},A={key:0,class:"flex justify-center py-10"},F={class:"bg-white/5 rounded-2xl p-6 space-y-4 border border-white/10"},I={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},L={class:"flex gap-3 pt-2"},$=["disabled"],H={__name:"Edit",setup(G){const i=C(),x=M(),c=N(),d=y(),u=f(!0),r=f(!1),t=z({room_name:"",capacity:0,details:"",latitude:"",longitude:""});h(()=>i.params.id,l=>{l&&b(l)});async function b(l){u.value=!0;try{const e=await c.getRoomById(l);Object.assign(t,e)}catch{d.error("Could not fetch room details")}finally{u.value=!1}}V(async()=>b(i.params.id));const g=async()=>{r.value=!0;const l=await c.updateRoom(i.params.id,t);l.success?(d.success("Room updated successfully"),x.push("/admin/master/room")):d.error(l.message),r.value=!1};return(l,e)=>{const v=j("router-link");return m(),p(B,null,[o("nav",S,[o("ol",D,[o("li",E,[s(v,{to:"/admin/master/room",class:"inline-flex items-center text-sm font-medium text-zinc-400 hover:text-blue-500"},{default:w(()=>[...e[6]||(e[6]=[o("svg",{class:"w-4 h-4 me-1.5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[o("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m4 12 8-8 8 8M6 10.5V19a1 1 0 0 0 1 1h3v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h3a1 1 0 0 0 1-1v-8.5"})],-1),k(" Room ",-1)])]),_:1})]),e[7]||(e[7]=R('<li aria-current="page"><div class="flex items-center space-x-1.5"><svg class="w-3.5 h-3.5 text-zinc-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="m9 5 7 7-7 7"></path></svg><span class="inline-flex items-center text-sm font-medium text-zinc-500">Edit Room</span></div></li>',1))])]),u.value?(m(),p("div",A,[...e[8]||(e[8]=[o("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"},null,-1)])])):(m(),p("form",{key:1,onSubmit:U(g,["prevent"]),class:"space-y-4"},[o("div",F,[e[9]||(e[9]=o("h2",{class:"text-lg font-semibold text-black mb-4 dark:text-white"},"Update Room Details",-1)),s(n,{modelValue:t.room_name,"onUpdate:modelValue":e[0]||(e[0]=a=>t.room_name=a),label:"Room Name",placeholder:"e.g. Room A101",type:"text"},null,8,["modelValue"]),s(n,{modelValue:t.capacity,"onUpdate:modelValue":e[1]||(e[1]=a=>t.capacity=a),modelModifiers:{number:!0},label:"Room Capacity",placeholder:"e.g. 30",type:"number"},null,8,["modelValue"]),s(n,{modelValue:t.details,"onUpdate:modelValue":e[2]||(e[2]=a=>t.details=a),label:"Room Details",placeholder:"Room description...",type:"text"},null,8,["modelValue"]),o("div",I,[s(n,{modelValue:t.latitude,"onUpdate:modelValue":e[3]||(e[3]=a=>t.latitude=a),label:"Latitude",placeholder:"12.3456",type:"text"},null,8,["modelValue"]),s(n,{modelValue:t.longitude,"onUpdate:modelValue":e[4]||(e[4]=a=>t.longitude=a),label:"Longitude",placeholder:"78.9101",type:"text"},null,8,["modelValue"])]),o("div",L,[o("button",{type:"submit",disabled:r.value,class:"px-6 py-2 rounded-lg bg-blue-600 hover:bg-blue-700 text-white font-medium disabled:opacity-50"},_(r.value?"Updating...":"Update Room"),9,$),o("button",{type:"button",onClick:e[5]||(e[5]=a=>l.$router.push("/admin/master/room")),class:"px-6 py-2 rounded-lg bg-zinc-700 hover:bg-zinc-600 text-white font-medium"}," Cancel ")])])],32))],64)}}};export{H as default};
