import{y as x,s as y,m as w,o as m,c as u,b as s,a as l,u as V,z as p,O as c,k as v,t as h,I as k,J as z,h as S}from"./index-BOgTUK57.js";import{u as D}from"./userManageStore-Dkfhb5B4.js";import{B as a}from"./BaseInput-DwyAbVan.js";import{S as U}from"./SingleSelect-CXc1p_sx.js";import{_ as C}from"./Breadcrumbs-DoME-ykm.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const E={class:"max-w-5xl mx-auto pb-10"},A={class:"bg-white dark:bg-zinc-900/50 border border-zinc-200 dark:border-white/10 rounded-2xl p-6 shadow-sm"},B={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},M={class:"md:col-span-2 flex items-center h-full gap-2"},I={class:"inline-flex items-center cursor-pointer space-x-3"},N={class:"inline-flex items-center cursor-pointer space-x-3"},_={class:"flex items-center justify-end gap-4 mt-8 pt-6 border-t border-zinc-100 dark:border-white/5"},j=["disabled"],T={key:0,class:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},R={__name:"Create",setup(F){const n=x(),d=D(),{districts:b}=y(d),i=S(!1),t=z({full_name:"",email:"",mobile:"",password:"",district:"",designation:"",department:"",trainer:!1,director:!1}),f=[{label:"Employee",to:"/admin/employee"},{label:"Create Employee"}],g=async()=>{i.value=!0;try{const r=await d.submitEmployee(t);r.success===!1?n.error(r.message):(n.success(r.message),Object.assign(t,{full_name:"",email:"",mobile:"",password:"",district:"",designation:"",department:"",trainer:!1,director:!1}))}catch(r){n.error("An error occurred while saving the trainer."),console.error(r)}finally{i.value=!1}};return w(()=>{d.fetchDistricts()}),(r,e)=>(m(),u("div",E,[s(C,{items:f}),l("form",{onSubmit:k(g,["prevent"])},[l("div",A,[e[13]||(e[13]=l("div",{class:"mb-8 border-b border-zinc-100 dark:border-white/5 pb-4"},[l("h2",{class:"text-lg font-bold text-zinc-900 dark:text-zinc-100"},"Employee Details"),l("p",{class:"text-sm text-zinc-500"},"Fill in the information to register a new ATI Employee.")],-1)),l("div",B,[s(a,{modelValue:t.full_name,"onUpdate:modelValue":e[0]||(e[0]=o=>t.full_name=o),label:"Full Name",placeholder:"e.g. John Doe",type:"text"},null,8,["modelValue"]),s(a,{modelValue:t.email,"onUpdate:modelValue":e[1]||(e[1]=o=>t.email=o),label:"Email Address",type:"email",placeholder:"john@example.com"},null,8,["modelValue"]),s(a,{modelValue:t.mobile,"onUpdate:modelValue":e[2]||(e[2]=o=>t.mobile=o),type:"text",label:"Mobile Number",placeholder:"e.g. 9876543210"},null,8,["modelValue"]),s(a,{modelValue:t.password,"onUpdate:modelValue":e[3]||(e[3]=o=>t.password=o),type:"password",label:"Password",placeholder:"Set a secure password"},null,8,["modelValue"]),s(a,{modelValue:t.department,"onUpdate:modelValue":e[4]||(e[4]=o=>t.department=o),type:"text",label:"Department",placeholder:"e.g. ATI"},null,8,["modelValue"]),s(a,{modelValue:t.designation,"onUpdate:modelValue":e[5]||(e[5]=o=>t.designation=o),type:"text",label:"Designation",placeholder:"e.g. Senior Instructor"},null,8,["modelValue"]),s(U,{options:V(b),modelValue:t.district,"onUpdate:modelValue":e[6]||(e[6]=o=>t.district=o),"track-by":"_id",label:"Assigned District",placeholder:"Select District"},null,8,["options","modelValue"]),l("div",M,[l("label",I,[p(l("input",{type:"checkbox","onUpdate:modelValue":e[7]||(e[7]=o=>t.trainer=o),class:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[c,t.trainer]]),e[10]||(e[10]=l("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Trainer",-1))]),l("label",N,[p(l("input",{type:"checkbox","onUpdate:modelValue":e[8]||(e[8]=o=>t.director=o),class:"w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"},null,512),[[c,t.director]]),e[11]||(e[11]=l("span",{class:"text-sm font-medium text-gray-700 dark:text-gray-300"},"Director",-1))])])]),l("div",_,[l("button",{type:"button",onClick:e[9]||(e[9]=o=>r.$router.back()),class:"px-6 py-2.5 rounded-xl text-zinc-500 hover:bg-zinc-100 dark:hover:bg-white/5 font-semibold transition-all"}," Cancel "),l("button",{type:"submit",disabled:i.value,class:"flex items-center justify-center px-8 py-2.5 rounded-xl bg-blue-600 hover:bg-blue-700 text-white font-bold shadow-lg shadow-blue-500/30 transition-all disabled:opacity-50 disabled:cursor-not-allowed min-w-[160px]"},[i.value?(m(),u("svg",T,[...e[12]||(e[12]=[l("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),l("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])])):v("",!0),l("span",null,h(i.value?"Saving...":"Save Employee"),1)],8,j)])])],32)]))}};export{R as default};
