import{q as i,I as e}from"./index-Cg_xg-mB.js";const o=i("trainer",{state:()=>({trainings:[],loading:!1,status:"Ongoing",pagination:{total:0,page:1,totalPages:1,limit:10},trainees:[],sessionTopic:"",isAttendanceLoading:!1,isSubmitLoading:!1,materials:[],isMaterialLoading:!1}),actions:{async fetchTrainings(){this.loading=!0;try{const a=this.status==="All"?"":this.status,s=await e.get("/trainer/training/program",{params:{page:this.pagination.page,status:a,limit:this.pagination.limit}});console.log(s),this.trainings=s.data.data,this.pagination=s.data.pagination}catch(a){console.error("Failed to fetch trainings:",a)}finally{this.loading=!1}},async setPage(a){a>=1&&a<=this.pagination.totalPages&&(this.pagination.page=a,await this.fetchTrainings())},async setStatus(a){this.status=a,this.pagination.page=1,await this.fetchTrainings()},async fetchTrainees(a){this.isAttendanceLoading=!0;try{const s=await e.get(`/trainer/session/${a}/trainees`);this.trainees=s.data.trainees,this.sessionTopic=s.data.session_topic}catch{}finally{this.isAttendanceLoading=!1}},async markAttendance(a,s){this.isAttendanceLoading=!0;try{const t=await e.post(`/trainer/attendance/trainee/${s}`,a);return t.status===200&&t.data.status===200?{success:!0,message:t.data.message}:{success:!1,message:t.data.message}}catch(t){return{success:!1,message:t.message}}finally{this.isAttendanceLoading=!1}},async fetchMaterials(a){try{const s=await e.get(`/trainer/training/${a}/materials`);console.log(s),this.materials=s.data.data}catch{}},async submitMaterial(a){try{const s=await e.post("/material",a);return s.status===200&&s.data.status===201?{success:!0,message:s.data.message}:{success:!1,message:s.data.message}}catch(s){return{success:!1,message:s.message}}},async deleteMaterial(a){this.isMaterialLoading=!0;try{const s=await e.delete(`/material/${a}`);return s.status===200&&s.data.status===200?{success:!0,message:s.data.message}:{success:!1,message:s.data.message}}catch(s){return{success:!1,message:s.message}}finally{this.isMaterialLoading=!1}}}});export{o as u};
