import{m as z,Q as _,o as s,c as a,t as c,k as d,b as V,w as C,F as p,r as S,a as t,T as L,z as j,A as M,G as $,n as B,h as m,p as O}from"./index-BV9NVDf5.js";import{_ as E}from"./_plugin-vue_export-helper-DlAUqK2U.js";const I={key:0,class:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2 ml-1"},N={key:0,class:"absolute z-[60] bottom-full mb-2 w-full p-2 bg-white dark:bg-zinc-900 border border-zinc-200 dark:border-white/10 rounded-2xl shadow-2xl max-h-64 overflow-y-auto custom-scrollbar"},U={key:0,class:"p-4 text-center text-sm text-zinc-500"},A=["onClick"],T=["src"],D={class:"flex-1 min-w-0 text-left"},F={class:"flex justify-between items-start"},G={class:"text-sm font-bold text-zinc-900 dark:text-zinc-100 truncate"},q={class:"text-[9px] font-bold uppercase px-1.5 py-0.5 rounded bg-zinc-100 dark:bg-white/5 text-zinc-500"},Q={class:"text-[11px] text-zinc-500 truncate"},R={class:"flex flex-1 items-center gap-3 overflow-hidden"},H=["src"],J={class:"flex flex-col truncate text-left"},K={class:"text-sm font-bold text-zinc-900 dark:text-zinc-100"},P={class:"text-[10px] text-zinc-500 dark:text-white"},W=["placeholder"],X={class:"flex items-center gap-2 pr-1"},Y={__name:"SearchSelect",props:{modelValue:Object,options:Array,label:String,placeholder:{type:String,default:"Search..."}},emits:["update:modelValue"],setup(o,{emit:k}){const f=o,v=k,r=m(!1),i=m(""),u=m(null),g="https://staging2.egovmz.in",x=(l,e)=>l?`${g}${l}`:`https://ui-avatars.com/api/?name=${e}`,h=O(()=>{if(!i.value)return f.options;const l=i.value.toLowerCase();return f.options.filter(e=>e.full_name.toLowerCase().includes(l)||e.department?.toLowerCase().includes(l)||e.designation?.toLowerCase().includes(l))}),w=l=>{v("update:modelValue",l),i.value="",r.value=!1},y=()=>{v("update:modelValue",null),i.value=""},b=l=>{u.value&&!u.value.contains(l.target)&&(r.value=!1)};return z(()=>document.addEventListener("click",b)),_(()=>document.removeEventListener("click",b)),(l,e)=>(s(),a("div",{class:"relative w-full",ref_key:"container",ref:u},[o.label?(s(),a("label",I,c(o.label),1)):d("",!0),V(L,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform translate-y-2 opacity-0 scale-95","enter-to-class":"transform translate-y-0 opacity-100 scale-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"transform translate-y-0 opacity-100 scale-100","leave-to-class":"transform translate-y-2 opacity-0 scale-95"},{default:C(()=>[r.value?(s(),a("div",N,[h.value.length===0?(s(),a("div",U," No matches found ")):d("",!0),(s(!0),a(p,null,S(h.value,n=>(s(),a("div",{key:n._id,onClick:Z=>w(n),class:"flex items-center gap-3 p-3 rounded-xl cursor-pointer transition-colors hover:bg-blue-50 dark:hover:bg-blue-500/10 group"},[t("img",{src:x(n.image,n.full_name),class:"w-10 h-10 rounded-full object-cover border border-zinc-100 dark:border-white/5"},null,8,T),t("div",D,[t("div",F,[t("h4",G,c(n.full_name),1),t("span",q,c(n.department),1)]),t("p",Q,c(n.designation),1)])],8,A))),128))])):d("",!0)]),_:1}),t("div",{onClick:e[2]||(e[2]=n=>r.value=!r.value),class:"relative flex items-center w-full px-4 py-3 rounded-2xl border transition-all cursor-pointer bg-white dark:bg-gray-700 border-zinc-200 dark:border-white/10 hover:border-blue-500/50 focus-within:ring-2 focus-within:ring-blue-500/20 focus-within:border-blue-500"},[t("div",R,[o.modelValue&&!r.value?(s(),a(p,{key:0},[t("img",{src:x(o.modelValue.image,o.modelValue.full_name),class:"w-8 h-8 rounded-full object-cover"},null,8,H),t("div",J,[t("span",K,c(o.modelValue.full_name),1),t("span",P,c(o.modelValue.designation),1)])],64)):j((s(),a("input",{key:1,"onUpdate:modelValue":e[0]||(e[0]=n=>i.value=n),type:"text",placeholder:o.modelValue?o.modelValue.full_name:o.placeholder,class:"w-full bg-transparent border-none outline-none text-sm text-zinc-900 dark:text-zinc-100",onInput:e[1]||(e[1]=n=>r.value=!0)},null,40,W)),[[M,i.value]])]),t("div",X,[o.modelValue?(s(),a("button",{key:0,type:"button",onClick:$(y,["stop"]),class:"p-1 rounded-full text-zinc-400 hover:text-zinc-600 dark:hover:text-zinc-200 hover:bg-zinc-100 dark:hover:bg-white/10 transition-colors"},[...e[3]||(e[3]=[t("svg",{class:"w-4 h-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])):d("",!0),(s(),a("svg",{class:B(["w-4 h-4 text-zinc-400 transition-transform",{"rotate-180":r.value}]),fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...e[4]||(e[4]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m19 9-7 7-7-7"},null,-1)])],2))])])],512))}},oe=E(Y,[["__scopeId","data-v-a8dfac13"]]);export{oe as S};
