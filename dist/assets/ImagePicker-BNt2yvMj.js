import{o as s,c as o,t as d,k as u,a as t,z as g,N as f,F as h,r as y,O as b,G as k,n as x}from"./index-BV9NVDf5.js";import{_ as c}from"./_plugin-vue_export-helper-DlAUqK2U.js";const v={name:"MultiSelect",props:{modelValue:{type:Array,default:()=>[]},options:{type:Array,required:!0},optionLabel:{type:String,default:"name"},trackBy:{type:String,default:"id"},label:{type:String,default:"name"},placeholder:{type:String,default:"Select options"}},emits:["update:modelValue"],data(){return{isOpen:!1}},computed:{proxyValue:{get(){return this.modelValue},set(l){this.$emit("update:modelValue",l)}},displayText(){if(!this.modelValue.length)return this.placeholder;const e=this.options.filter(r=>this.modelValue.includes(r[this.trackBy])).map(r=>r[this.optionLabel]);return e.length>2?`${e.length} Selected`:e.join(", ")}},methods:{toggleDropdown(){this.isOpen=!this.isOpen}}},w={class:"relative w-full"},_={key:0,class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},C={class:"block truncate"},V={class:"absolute z-20 mt-1 max-h-60 w-full overflow-auto rounded-md bg-white py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm dark:bg-gray-700"},S={class:"flex items-center w-full cursor-pointer"},j=["value"],M={class:"ml-3 block truncate font-normal text-gray-900 dark:text-gray-200"},B={key:0,class:"p-3 text-sm text-gray-500 text-center"};function I(l,e,r,m,n,i){return s(),o("div",w,[r.label?(s(),o("label",_,d(r.label),1)):u("",!0),t("button",{type:"button",onClick:e[0]||(e[0]=(...a)=>i.toggleDropdown&&i.toggleDropdown(...a)),class:"relative w-full cursor-default rounded-lg border border-gray-300 bg-gray-50 py-2.5 pl-3 pr-10 text-left text-sm text-gray-900 focus:border-blue-500 focus:outline-none focus:ring-1 focus:ring-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:text-white"},[t("span",C,d(i.displayText),1),e[3]||(e[3]=t("span",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2"},[t("svg",{class:"h-5 w-5 text-gray-400",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[t("path",{"fill-rule":"evenodd",d:"M10 3a1 1 0 01.707.293l3 3a1 1 0 01-1.414 1.414L10 5.414 7.707 7.707a1 1 0 01-1.414-1.414l3-3A1 1 0 0110 3zm-3.707 9.293a1 1 0 011.414 0L10 14.586l2.293-2.293a1 1 0 011.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z","clip-rule":"evenodd"})])],-1))]),n.isOpen?(s(),o("div",{key:1,onClick:e[1]||(e[1]=a=>n.isOpen=!1),class:"fixed inset-0 z-10 w-full h-full"})):u("",!0),g(t("div",V,[(s(!0),o(h,null,y(r.options,a=>(s(),o("div",{key:a[r.trackBy],class:"relative flex items-center cursor-pointer select-none py-2 pl-3 pr-9 hover:bg-gray-100 dark:hover:bg-gray-600"},[t("label",S,[g(t("input",{type:"checkbox",value:a[r.trackBy],"onUpdate:modelValue":e[2]||(e[2]=p=>i.proxyValue=p),class:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 rounded focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"},null,8,j),[[b,i.proxyValue]]),t("span",M,d(a[r.optionLabel]),1)])]))),128)),r.options.length===0?(s(),o("div",B," No options available ")):u("",!0)],512),[[f,n.isOpen]])])}const J=c(v,[["render",I]]),L={props:{label:String,modelValue:[File,String],error:String},emits:["update:modelValue","change"],data(){return{previewUrl:null}},watch:{modelValue:{immediate:!0,handler(l){typeof l=="string"?this.previewUrl=l:l||(this.previewUrl=null)}}},methods:{handleFileChange(l){const e=l.target.files[0];if(!e)return;if(!["image/png","image/jpeg","image/jpg"].includes(e.type)){this.$emit("error","Only PNG and JPG files are allowed");return}this.previewUrl=URL.createObjectURL(e),this.$emit("update:modelValue",e),this.$emit("change",e)},removeImage(){this.previewUrl=null,this.$refs.fileInput.value="",this.$emit("update:modelValue",null)}}},U={class:"w-full"},O={key:0,class:"block mb-2 text-sm font-medium text-gray-900 dark:text-white"},P={key:0,class:"relative w-full h-full p-2"},z=["src"],F={key:1,class:"flex flex-col items-center justify-center pt-5 pb-6"},G={key:1,class:"mt-1 text-xs text-red-600 dark:text-red-500"};function N(l,e,r,m,n,i){return s(),o("div",U,[r.label?(s(),o("label",O,d(r.label),1)):u("",!0),t("div",{class:x(["relative flex flex-col items-center justify-center w-full min-h-[150px] border-2 border-dashed rounded-lg cursor-pointer bg-gray-50 dark:bg-gray-700 hover:bg-gray-100 dark:border-gray-600 dark:hover:border-gray-500 dark:hover:bg-gray-600",r.error?"border-red-500":"border-gray-300"]),onClick:e[2]||(e[2]=a=>l.$refs.fileInput.click())},[t("input",{type:"file",ref:"fileInput",class:"hidden",accept:".png, .jpg, .jpeg, image/png, image/jpeg",onChange:e[0]||(e[0]=(...a)=>i.handleFileChange&&i.handleFileChange(...a))},null,544),n.previewUrl?(s(),o("div",P,[t("img",{src:n.previewUrl,class:"max-h-48 w-full object-contain rounded-lg",alt:"Preview"},null,8,z),t("button",{type:"button",onClick:e[1]||(e[1]=k((...a)=>i.removeImage&&i.removeImage(...a),["stop"])),class:"absolute top-4 right-4 bg-red-600 text-white rounded-full p-1.5 hover:bg-red-700 shadow-lg"},[...e[3]||(e[3]=[t("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])])])):(s(),o("div",F,[...e[4]||(e[4]=[t("svg",{class:"w-8 h-8 mb-4 text-gray-500 dark:text-gray-400",fill:"none",viewBox:"0 0 20 16",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2l2 2"})],-1),t("p",{class:"mb-2 text-sm text-gray-500 dark:text-gray-400 font-semibold"},"Click to upload banner",-1),t("p",{class:"text-xs text-gray-500 dark:text-gray-400"},"PNG, JPG or JPEG (MAX. 2MB)",-1)])]))],2),r.error?(s(),o("p",G,d(r.error),1)):u("",!0)])}const E=c(L,[["render",N]]);export{E as I,J as M};
