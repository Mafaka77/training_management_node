import{q as o,K as t}from"./index-BgI74CTB.js";const g=o("training",{state:()=>({isLoading:!1,programs:[],categories:[],rooms:[],groups:[],directors:[],page:1,total:0,totalPages:1,search:"",status:"All"}),actions:{async fetchTrainings(a){this.isLoading=!0;try{a!==null&&(this.page=a);const s=await t.get("/get-all-training-program",{params:{page:this.page,search:this.search,status:this.status}});this.programs=s.data.programs,this.page=s.data.page,this.total=s.data.total,this.totalPages=s.data.totalPages}catch(s){console.error("Error fetching trainings:",s)}finally{this.isLoading=!1}},async fetchTraining(a){try{const s=await t.get(`/program/${a}`);return console.log(s.data.training),s.data.training}catch(s){console.error("Error fetching training:",s)}},async fetchCategories(){try{const a=await t.get("/get-training-category");this.categories=a.data.categories}catch{}},async fetchRooms(){try{const a=await t.get("/get-training-room");this.rooms=a.data.rooms}catch{}},async fetchGroups(){try{const a=await t.get("/get-all-groups");this.groups=a.data.groups}catch{}},async submitTraining(a){console.log(a);try{const s=await t.post("/submit-training-program",a);return s.status===200?s.data.status===400?{success:!1,message:s.data.message}:s.data.status===409?{success:!1,message:s.data.message}:s.data.status===201?{success:!0,message:s.data.message}:{success:!1,message:s.data.message||"Error Occured"}:{success:!1,message:e.message||"Error Occured"}}catch(s){return console.log(s),{success:!1,message:s.message||"Error Occured"}}},async updateTraining(a,s){console.log(s);try{const r=await t.put(`/program/${a}`,s);return r.status===200||r.data.status===200?{success:!0,message:r.data.message}:{success:!1,message:r.data.message}}catch(r){return{success:!1,message:r.message||"Error Occured"}}},async updateStatus(a){try{const s=await t.put(`/program/${a}/status`);return(s.status||s.data.status)===200?{success:!0,message:s.data.message}:{success:!1,message:s.data.message}}catch(s){return{success:!1,message:s.message}}},async fetchDirectors(){try{const a=await t.get("/directors");this.directors=a.data.data,console.log(a.data.data)}catch(a){console.error("Error fetching directors:",a)}}}});export{g as u};
